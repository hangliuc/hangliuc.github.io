<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>Interview on Hang</title>
        <link>https://hangops.top/en/categories/interview/</link>
        <description>Recent content in Interview on Hang</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>en</language>
        <copyright>Example Person</copyright>
        <lastBuildDate>Sat, 06 Dec 2025 10:42:12 +0000</lastBuildDate><atom:link href="https://hangops.top/en/categories/interview/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>SRE Interview Questions | Database</title>
        <link>https://hangops.top/en/topic/interview/database/</link>
        <pubDate>Sat, 06 Dec 2025 10:42:12 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/database/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post SRE Interview Questions | Database" /&gt;&lt;h1 id=&#34;mysql&#34;&gt;mysql
&lt;/h1&gt;&lt;h2 id=&#34;1-how-to-troubleshoot-a-sudden-slow-mysql-query&#34;&gt;1. How to troubleshoot a sudden slow MySQL query
&lt;/h2&gt;&lt;h3 id=&#34;check-the-query-itself&#34;&gt;Check the query itself
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Review if the SQL query can be optimized, such as using appropriate indexes, avoiding full table scans, etc.&lt;/li&gt;
&lt;li&gt;Complex JOIN operations: Confirm if there are multiple large table joins or unnecessary complex operations.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;check-database-performance&#34;&gt;Check database performance
&lt;/h3&gt;&lt;p&gt;Slow query log: Enable and check the slow query log (slow_query_log). Review which queries have been running for a long time recently.&lt;/p&gt;
&lt;h3 id=&#34;check-system-load&#34;&gt;Check system load
&lt;/h3&gt;&lt;p&gt;System resources: Check if there are bottlenecks in CPU, memory, disk IO, and network resources. Use tools like top or htop to monitor.
Disk IO: Check if disk read/write has become a bottleneck. Use tools like iostat or vmstat to view disk IO status.&lt;/p&gt;
&lt;h3 id=&#34;check-lock-and-concurrency-issues&#34;&gt;Check lock and concurrency issues
&lt;/h3&gt;&lt;p&gt;Lock status: Check if there are lock waiting or deadlock issues. Use the following SQL statements to view the current lock status:
If there are many threads in the &amp;ldquo;Locked&amp;rdquo; state, it may be necessary to further analyze the source of the locks and find solutions.&lt;/p&gt;
&lt;h3 id=&#34;network-latency&#34;&gt;Network latency
&lt;/h3&gt;&lt;p&gt;If connecting to MySQL remotely, confirm if the network connection is stable and if there is high latency.&lt;/p&gt;
&lt;h1 id=&#34;redis&#34;&gt;redis
&lt;/h1&gt;&lt;h2 id=&#34;1-hotkey-and-large-key-issues&#34;&gt;1. Hotkey and large key issues
&lt;/h2&gt;&lt;h3 id=&#34;hotkey-issues&#34;&gt;Hotkey issues
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Hotkey: Refers to frequently accessed keys that may lead to decreased database performance.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Impact:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CPU concentrated on a single Redis node&lt;/li&gt;
&lt;li&gt;QPS uneven, cluster load imbalance&lt;/li&gt;
&lt;li&gt;Latency spikes, request timeouts&lt;/li&gt;
&lt;li&gt;Triggering failover in nodes&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Solutions&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Business layer sharding/bucketing: Split hot requests into multiple keys to improve concurrency capacity.&lt;/li&gt;
&lt;li&gt;Increase cache layer: Local cache + Redis secondary cache to reduce direct access to Redis.&lt;/li&gt;
&lt;li&gt;Use multi-key splitting to read pressure, breaking a hot large key into multiple sub-keys.&lt;/li&gt;
&lt;li&gt;Hotspot protection at the Redis Proxy layer, where the proxy layer can identify hotspots and perform degradation.&lt;/li&gt;
&lt;li&gt;Client-side local throttling + degradation&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;large-key-issues&#34;&gt;Large key issues
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Large key: Refers to keys with very large values that occupy a large amount of memory space.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Impact:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Slow during migration slots (CLUSTER ADDSLOTS/MIGRATE)&lt;/li&gt;
&lt;li&gt;May block the Redis main thread&lt;/li&gt;
&lt;li&gt;Trigger blocking during deletion (del O(n) operation)&lt;/li&gt;
&lt;li&gt;Overload network bandwidth&lt;/li&gt;
&lt;li&gt;Increase in read/write latency&lt;/li&gt;
&lt;li&gt;Slow failover recovery&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Solutions&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Business layer splitting: Split large keys into multiple small keys, with each small key storing only a portion of the data.&lt;/li&gt;
&lt;li&gt;Pagination read: Do not use hgetall/smembers/zrange, use scan / segmented retrieval.&lt;/li&gt;
&lt;li&gt;Pre-limit the size of the value: Do key size limits on the service side.&lt;/li&gt;
&lt;li&gt;Avoid storing logs, messages, and long texts in Redis.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;How to find large keys&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Redis&amp;rsquo;s SCAN command&lt;/li&gt;
&lt;li&gt;redis-cli -h 127.0.0.1 -p 6379 —bigkeys&lt;/li&gt;
&lt;li&gt;Open-source tool Redis RDB Tools, analyze RDB files, and scan out Redis large keys.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;kafka&#34;&gt;kafka
&lt;/h1&gt;&lt;h2 id=&#34;1-how-to-handle-message-backlog&#34;&gt;1. How to handle message backlog
&lt;/h2&gt;&lt;h3 id=&#34;causes-of-message-backlog&#34;&gt;Causes of message backlog
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Producers produce a large number of messages to a Topic in a short period of time, and consumers cannot consume them in time.&lt;/li&gt;
&lt;li&gt;Consumers have insufficient consumption capacity (low consumer concurrency, long message processing time), leading to consumption efficiency lower than production efficiency.&lt;/li&gt;
&lt;li&gt;Consumer anomalies (such as consumer failures, consumer network anomalies, etc.) causing inability to consume messages.&lt;/li&gt;
&lt;li&gt;Topic partition settings are not reasonable, or new partitions are added without consumers consuming them.&lt;/li&gt;
&lt;li&gt;Topic frequent rebalancing leads to reduced consumption efficiency.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;solutions&#34;&gt;Solutions
&lt;/h3&gt;&lt;p&gt;From the causes of message backlog, the message backlog problem can be handled from three aspects: consumer side, producer side, and service side.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Consumer side
&lt;ul&gt;
&lt;li&gt;Increase the number of consumers according to actual business needs to ensure that the number of partitions/consumers is an integer, and it is recommended that the number of consumers and partitions be consistent.&lt;/li&gt;
&lt;li&gt;Increase the consumption speed of consumers by optimizing consumer processing logic (reducing complex calculations, third-party interface calls, and read database operations), reducing consumption time.&lt;/li&gt;
&lt;li&gt;Increase the number of messages pulled by consumers each time: Pull data/process time &amp;gt;= production speed.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Producer side
&lt;ul&gt;
&lt;li&gt;Add a random suffix to the message Key when producing messages to balance the distribution of messages to different partitions.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Service side
&lt;ul&gt;
&lt;li&gt;Reasonably set the number of partitions for the Topic, and increase the number of Topic partitions without affecting business processing efficiency.&lt;/li&gt;
&lt;li&gt;When message backlog occurs on the service side, implement circuit breaking for producers or forward producers&amp;rsquo; messages to other Topics.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SRE Interview Questions Summary | K8s</title>
        <link>https://hangops.top/en/topic/interview/k8s/</link>
        <pubDate>Sat, 06 Dec 2025 10:15:30 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/k8s/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post SRE Interview Questions Summary | K8s" /&gt;&lt;h2 id=&#34;1-how-different-modules-communicate-with-api-server&#34;&gt;1. How Different Modules Communicate with API Server
&lt;/h2&gt;&lt;p&gt;Various functional modules within the cluster store information in etcd through the API Server. When they need to retrieve and operate on these data, they achieve inter-module information interaction by using the REST interfaces provided by the API Server (using GET, LIST, or WATCH methods).&lt;/p&gt;
&lt;p&gt;In Kubernetes, different modules interact with the API Server through standard HTTP/HTTPS requests, ensuring security through authentication and authorization mechanisms, and utilizing the Watch mechanism to implement real-time resource status monitoring and synchronization.&lt;/p&gt;
&lt;h2 id=&#34;2-how-kubelet-monitors-worker-nodes&#34;&gt;2. How kubelet Monitors Worker Nodes
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Linux Kernel
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ↓
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cAdvisor Collects Container and Node Metrics
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ↓
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubelet Processes, Aggregates, and Judges Node Status
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ↓
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;apiserver + metrics server Aggregate
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ↓
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl top / HPA / Scheduler Make Decisions
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;3-considerations-for-clusters-with-over-a-thousand-nodes&#34;&gt;3. Considerations for Clusters with Over a Thousand Nodes
&lt;/h2&gt;&lt;p&gt;Official documentation: &lt;a class=&#34;link&#34; href=&#34;https://kubernetes.io/zh-cn/docs/setup/best-practices/cluster-large/&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://kubernetes.io/zh-cn/docs/setup/best-practices/cluster-large/&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-content-stored-in-kubeconfig&#34;&gt;4. Content Stored in kubeconfig
&lt;/h2&gt;&lt;p&gt;Information about clusters, users, namespaces, and authentication mechanisms.&lt;/p&gt;
&lt;h2 id=&#34;5-the-role-of-kube-proxy&#34;&gt;5. The Role of kube-proxy
&lt;/h2&gt;&lt;p&gt;Core Responsibility: Maintain Service Forwarding Rules
kube-proxy listens for changes to Service, Endpoints/EndpointSlice in the API Server, maintains iptables or IPVS rules on the node to achieve traffic forwarding from Service to backend Pods.&lt;/p&gt;
&lt;h3 id=&#34;types&#34;&gt;Types
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;iptables: Default mode, uses iptables rules to implement Service forwarding.&lt;/li&gt;
&lt;li&gt;IPVS: Based on Linux kernel IPVS for four-layer load balancing, high performance, and fast rule updates.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-scheduler-scheduling-process&#34;&gt;6. Scheduler Scheduling Process
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Listening and Getting (Listen &amp;amp; Get)&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Scheduler listens to the K8s API Server for unbound Pods&lt;/li&gt;
&lt;li&gt;Through the Informer mechanism, it gets real-time information of Pods and Nodes from the local cache to improve efficiency&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Preselection Phase (Predicates/Filter)&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Quickly filter out nodes that do not meet the conditions to reduce subsequent calculation volume&lt;/li&gt;
&lt;li&gt;Node resources (CPU, Memory), Node Selector/Affinity/Anti-Affinity, Taints/Tolerations, Pod reservation, etc. Get a list of &amp;ldquo;candidate nodes&amp;rdquo; that pass all filters.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Priority Selection Phase (Priority)&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Scoring: Score the nodes that pass the preselection to evaluate their &amp;ldquo;goodness&amp;rdquo;.&lt;/li&gt;
&lt;li&gt;Node resource utilization, load balancing, topology location (such as prioritizing the same rack/region).
Result: Get a node list sorted by score in descending order.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Binding Phase (Bind)&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Select the node with the highest score&lt;/li&gt;
&lt;li&gt;Write the selection result to the local cache (Scheduler Cache), record resource usage, and try to reserve resources.&lt;/li&gt;
&lt;li&gt;Asynchronously call the API Server to update the spec.nodeName of the Pod, binding the Pod to the selected node.&lt;/li&gt;
&lt;li&gt;After the Kubelet detects the Pod binding event, it starts creating containers&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;7-pod-startup-process&#34;&gt;7. POD Startup Process
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Users submit the pod&amp;rsquo;s yaml configuration to the API Server through kubectl or other tools&lt;/li&gt;
&lt;li&gt;After receiving the request, the API Server stores the configuration in etcd&lt;/li&gt;
&lt;li&gt;Scheduler binds the Pod to an appropriate node according to the scheduling strategy&lt;/li&gt;
&lt;li&gt;After the Kubelet detects the Pod binding event, it starts creating containers
&lt;ul&gt;
&lt;li&gt;Pull images&lt;/li&gt;
&lt;li&gt;Create sandbox, where all containers share network and storage namespaces&lt;/li&gt;
&lt;li&gt;Call the container runtime to create containers in the pod&lt;/li&gt;
&lt;li&gt;If there are init containers, the kubelet starts them before the application containers&lt;/li&gt;
&lt;li&gt;aws-node creates pod network interface, assigns IP address&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;After the container starts, the Kubelet sends a status update to the API Server&lt;/li&gt;
&lt;li&gt;After receiving the update, the API Server stores the status in etcd&lt;/li&gt;
&lt;li&gt;When users query the Pod status through kubectl or other tools, the API Server retrieves the latest status from etcd and returns it&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;8-troubleshooting-failed-dns-resolution-for-pods&#34;&gt;8. Troubleshooting Failed DNS Resolution for Pods
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Check Pod Internal and Configuration&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;kubectl exec -it &lt;pod&gt; &amp;ndash; nslookup kubernetes.default Cluster internal DNS failure&lt;/li&gt;
&lt;li&gt;kubectl exec -it &lt;pod&gt; &amp;ndash; curl &lt;a class=&#34;link&#34; href=&#34;https://www.google.com&#34;  target=&#34;_blank&#34; rel=&#34;noopener&#34;
    &gt;https://www.google.com&lt;/a&gt; Upstream DNS or CoreDNS configuration issue&lt;/li&gt;
&lt;li&gt;Check DNS Policy: View the Pod YAML to ensure that the dnsPolicy (such as ClusterFirst) configuration is correct.
Default: Pod inherits the domain name resolution configuration from the node it runs on.
ClusterFirst: Pod first resolves from the cluster internal DNS, and then uses the node DNS configuration if it fails.&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Check coredns&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;Check coredns load&lt;/li&gt;
&lt;li&gt;Check coredns configmap forward&lt;/li&gt;
&lt;/ul&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;Investigate kube-proxy
DNS traffic is Pod → kube-proxy → CoreDNS Pod&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check CNI Network Plugin&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Whether Istio / Linkerd / Envoy sidecar is used&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;9-common-pod-scheduling-methods&#34;&gt;9. Common Pod Scheduling Methods
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;Default Scheduler&lt;/li&gt;
&lt;li&gt;Node Selector&lt;/li&gt;
&lt;li&gt;Affinity and Anti-Affinity&lt;/li&gt;
&lt;li&gt;Taints and Tolerations&lt;/li&gt;
&lt;li&gt;Resource Requests and Limits&lt;/li&gt;
&lt;li&gt;Pod Topology Spread Scheduling: Uniform distribution across different nodes/racks&lt;/li&gt;
&lt;li&gt;Preemption Scheduling&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;10-the-purpose-of-the-pause-container&#34;&gt;10. The Purpose of the Pause Container
&lt;/h2&gt;&lt;p&gt;The only role of the Pause container is to ensure that the Pod will not be deleted even if there are no containers running in it, because there is still a Pause container running at this time.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Network namespace isolation&lt;/li&gt;
&lt;li&gt;Process isolation&lt;/li&gt;
&lt;li&gt;Resource isolation&lt;/li&gt;
&lt;li&gt;Lifecycle management&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;11-possible-causes-and-troubleshooting-for-failed-pod-health-checks&#34;&gt;11. Possible Causes and Troubleshooting for Failed Pod Health Checks
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Probe configuration issues&lt;/li&gt;
&lt;li&gt;Application not started/responding slowly: Exceeds initialDelaySeconds, process exits (CrashLoopBackOff)&lt;/li&gt;
&lt;li&gt;Resource constraints: CPU/Memory insufficient, causing Kubelet to fail to run health checks&lt;/li&gt;
&lt;li&gt;Network issues: Container cannot access external services, such as DNS resolution failure&lt;/li&gt;
&lt;li&gt;Unavailable dependencies: Database, cache, etc. dependent services are not ready&lt;/li&gt;
&lt;li&gt;Database, cache, etc. dependent services are not ready&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Troubleshooting Approach&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;kubectl describe pod&lt;/li&gt;
&lt;li&gt;kubectl logs&lt;/li&gt;
&lt;li&gt;Check health check configuration&lt;/li&gt;
&lt;li&gt;Enter the container internally to troubleshoot
&lt;ul&gt;
&lt;li&gt;Use curl, wget to test the HTTP probe path.&lt;/li&gt;
&lt;li&gt;netstat -tulnp or ss -tulnp to confirm that the port is listening&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Check resources and nodes&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;12-how-to-troubleshoot-inability-to-access-pods&#34;&gt;12. How to Troubleshoot Inability to Access Pods
&lt;/h2&gt;&lt;h2 id=&#34;13-common-states-of-pods&#34;&gt;13. Common States of Pods
&lt;/h2&gt;&lt;p&gt;Pod Phase&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running&lt;/li&gt;
&lt;li&gt;Succeeded (Job completed, CronJob completed)&lt;/li&gt;
&lt;li&gt;Failed (Program crash, container startup failed)&lt;/li&gt;
&lt;li&gt;Pending (Resource insufficient, NodeSelector no match, image pull slow)&lt;/li&gt;
&lt;li&gt;Unknown (Kubelet cannot report status, node offline, network interruption)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Creation/Scheduling Related&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ContainerCreating (Container is being created, pulling images)&lt;/li&gt;
&lt;li&gt;PodInitializing (Container is initializing, executing init container)&lt;/li&gt;
&lt;li&gt;ImagePullBackOff (Image pull failed, such as authentication issue, image does not exist)&lt;/li&gt;
&lt;li&gt;ErrImagePull (Same as above, earlier than BackOff)&lt;/li&gt;
&lt;li&gt;CreateContainerConfigError (Container creation configuration error, such as mount volume does not exist)&lt;/li&gt;
&lt;li&gt;Error (Container exits with a non-zero exit code, but may not trigger failure due to restart policy)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Running Abnormally&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CrashLoopBackOff (Container crashes, kubelet restarts the container according to the backoff strategy, default 10s)&lt;/li&gt;
&lt;li&gt;OOMKilled (Container exceeds memory limit, forcibly killed by kubelet)&lt;/li&gt;
&lt;li&gt;BackOff (After multiple failures, enter the avoidance state, such as init container failure)&lt;/li&gt;
&lt;li&gt;CrashLoopBackOff (Main container keeps crashing and restarting)&lt;/li&gt;
&lt;li&gt;CreateContainerConfigError (Container creation configuration error, such as mount volume does not exist)&lt;/li&gt;
&lt;li&gt;Error (Container exits with a non-zero exit code, but may not trigger failure due to restart policy)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Termination/Completion&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Terminating (Container is terminating, such as deleting pod)&lt;/li&gt;
&lt;li&gt;Completed (Container exits normally, such as the main container exits)&lt;/li&gt;
&lt;li&gt;Failed (Container exits with a non-zero exit code, and the restart policy is Never)&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SRE Interview Questions Summary | Docker</title>
        <link>https://hangops.top/en/topic/interview/docker/</link>
        <pubDate>Sat, 06 Dec 2025 01:56:07 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/docker/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post SRE Interview Questions Summary | Docker" /&gt;&lt;h2 id=&#34;1-basic-principles-of-container-technology&#34;&gt;1. Basic Principles of Container Technology
&lt;/h2&gt;&lt;p&gt;The basic principles of container technology are based on Linux kernel features such as Namespaces and Cgroups.&lt;/p&gt;
&lt;p&gt;Problem-solving: Initially, it addressed the issue of inconsistent versions between local and cloud environments.&lt;/p&gt;
&lt;p&gt;Container Images: Utilizing Linux&amp;rsquo;s Union FS technology, the application&amp;rsquo;s running operating system, toolset, dependency libraries, configuration files, runtime scripts, and other environmental information are layered and mounted to the same directory as the root directory of the image.&lt;/p&gt;
&lt;h2 id=&#34;2-how-to-reduce-dockerfile-image-size-multi-stage-builds&#34;&gt;2. How to Reduce Dockerfile Image Size (Multi-Stage Builds)
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Use smaller base images&lt;/li&gt;
&lt;li&gt;Separate build environment (compilers, dependencies) from runtime environment&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-dockerfile&#34; data-lang=&#34;dockerfile&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c&#34;&gt;# First stage: Compilation&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;golang:1.22-alpine&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;builder&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;WORKDIR&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;/app&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; . .&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RUN&lt;/span&gt; go build -o app .&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;c&#34;&gt;# Second stage: Runtime&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s&#34;&gt;alpine:3.19&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;COPY&lt;/span&gt; --from&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;builder /app/app /usr/local/bin/app&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CMD&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;app&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Clean up build caches and temporary files in a timely manner&lt;/li&gt;
&lt;li&gt;Merge RUN commands to reduce the number of image layers&lt;/li&gt;
&lt;li&gt;Do not copy the entire project → Copy precisely&lt;/li&gt;
&lt;li&gt;Use .dockerignore to avoid copying unnecessary files&lt;/li&gt;
&lt;li&gt;&amp;hellip;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-container-network-models&#34;&gt;3. Container Network Models
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;bridge: Default mode, containers can communicate with each other via IP, and external access can be achieved through port mapping&lt;/li&gt;
&lt;li&gt;host: Containers share the host&amp;rsquo;s network stack, and containers use the host&amp;rsquo;s IP and port directly&lt;/li&gt;
&lt;li&gt;none: Containers have no network, and can only be accessed using localhost&lt;/li&gt;
&lt;li&gt;container: Containers share a network stack with another container, and containers can communicate directly via IP&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;4-difference-between-docker-and-container&#34;&gt;4. Difference Between Docker and Container
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Docker: A container engine used for creating, running, and managing containers&lt;/li&gt;
&lt;li&gt;Container: A running process, an independent, executable software package that includes the application and its runtime environment&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;architectural-reasons&#34;&gt;Architectural Reasons
&lt;/h3&gt;&lt;p&gt;The process of kubelet starting a container:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubelet
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Calls CRI interface&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ▼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dockershim &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;K8s-maintained CRI translation layer&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Calls Docker Engine API&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ▼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Docker Engine
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Calls containerd API&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ▼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;containerd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Calls OCI interface&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ▼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;runc &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;OCI runtime&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  └─&amp;gt; Create Linux container &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;namespace, cgroups, rootfs...&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Docker Engine is a complete platform (building images, managing networks, volumes, Swarm, etc.), which is redundant for K8s.&lt;/li&gt;
&lt;li&gt;dockershim is only to translate the CRI (K8s language) into Docker API (Docker language).&lt;/li&gt;
&lt;li&gt;The actual execution of containers is still containerd + runc.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When kubelet uses containerd directly, the call chain simplifies to:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubelet
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Calls CRI interface&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ▼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;containerd &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Built-in CRI plugin&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │ &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;Calls OCI interface&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  ▼
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;runc &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;OCI runtime&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  │
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  └─&amp;gt; Create Linux container &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;namespace, cgroups, rootfs...&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;reducing-maintenance-costs&#34;&gt;Reducing Maintenance Costs
&lt;/h3&gt;&lt;p&gt;Starting from Kubernetes 1.24, containerd is used as the default container runtime by default. The maintenance of the intermediate dockershim is no longer required.&lt;/p&gt;
&lt;h3 id=&#34;performance-improvement&#34;&gt;Performance Improvement
&lt;/h3&gt;&lt;p&gt;Fewer layers of calls, better performance and stability.&lt;/p&gt;
</description>
        </item>
        <item>
        <title>SRE Interview Questions Summary | Monitoring</title>
        <link>https://hangops.top/en/topic/interview/monitoring/</link>
        <pubDate>Fri, 05 Dec 2025 05:38:56 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/monitoring/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post SRE Interview Questions Summary | Monitoring" /&gt;&lt;h2 id=&#34;1-types-of-monitoring-metrics-and-application-scenarios&#34;&gt;1. Types of Monitoring Metrics and Application Scenarios
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Counter: Used to record the number of events, such as the number of requests, number of errors, etc.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Characteristics: Monotonically increasing, only increases, reset to 0 upon restart&lt;/li&gt;
&lt;li&gt;Scenarios: qps, error, number of completed tasks, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Gauge: Used to record current values, such as memory usage, CPU utilization, etc.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Characteristics: Can increase or decrease, a metric that can change arbitrarily&lt;/li&gt;
&lt;li&gt;Scenarios: cpu, mem, disk, network, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Histogram and Summary are mainly used for calculating quantiles and analyzing the distribution of samples.&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;
&lt;p&gt;Histogram: Used to record the distribution of events, with Prometheus server calculating quantiles through buckets.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Characteristics: Buckets (such as 10ms, 50ms, 100ms, etc.) need to be predefined to bucket sample values. Can aggregate global quantiles across instances (Summary cannot do this)&lt;/li&gt;
&lt;li&gt;Scenarios: Monitoring business interface latency, p95, p99&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;histogram_quantile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;99&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;http_request_duration_seconds_bucket&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;5&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;m&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;le&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Summary:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Characteristics: No need for buckets, quantiles are automatically maintained in the code. Cannot calculate global p99 across instances
If you have 10 pods, each exposing p99, then Prometheus can no longer calculate the &amp;ldquo;p99 of the entire service&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Scenarios: Independent statistical needs for each instance&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;The quantiles of Summary are calculated on the client (application) locally. Prometheus only needs to store the final p95, p99 values. However, it cannot aggregate global quantiles across instances.
Histogram calculates quantiles on the server, and Histogram can aggregate data from multiple instances to determine the global quantiles of the entire service, which is the most commonly used method in k8s production environments.&lt;/p&gt;
&lt;h2 id=&#34;2-golden-metrics&#34;&gt;2. Golden Metrics
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Latency&lt;/li&gt;
&lt;li&gt;QPS&lt;/li&gt;
&lt;li&gt;Error Rate&lt;/li&gt;
&lt;li&gt;Saturation&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SRE Interview Questions Summary | Network</title>
        <link>https://hangops.top/en/topic/interview/network/</link>
        <pubDate>Thu, 04 Dec 2025 11:36:01 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/network/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post SRE Interview Questions Summary | Network" /&gt;&lt;h2 id=&#34;1-osi-seven-layer-model&#34;&gt;1. OSI Seven-Layer Model
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;24
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;25
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;26
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;发送端（电脑A）                          接收端（电脑B）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+----------------+                      +----------------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;| 应用层：Data   |                      | 应用层：Data   |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;|  &amp;#34;Hi&amp;#34;          |                      |  &amp;#34;Hi&amp;#34;          |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+-------+--------+                      +-------^--------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        |                                       |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;| 表示层：Data + 表示头                    表示层：Data（剥离表示头）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+-------+--------+                      +-------^--------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        |                                       |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;| 会话层：Data + 会话头                    会话层：Data（剥离会话头）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+-------+--------+                      +-------^--------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        |                                       |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;| 传输层：Segment（Data + 端口头）        传输层：Data（剥离端口头）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+-------+--------+                      +-------^--------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        |                                       |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;| 网络层：Packet（Segment + IP头）       网络层：Segment（剥离IP头）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+-------+--------+                      +-------^--------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        |                                       |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;| 数据链路层：Frame（Packet + MAC头 + CRC）数据链路层：Packet（剥离MAC头+CRC）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+-------+--------+                      +-------^--------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        |                                       |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;| 物理层：Bits（Frame转换）               物理层：Frame（Bits转换）
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;+-------+--------+                      +-------^--------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        |                                       |
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        +---------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;               物理介质（网线/无线）
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;OSI Layer&lt;/th&gt;
          &lt;th&gt;Core Function&lt;/th&gt;
          &lt;th&gt;Key Devices/Components&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Application Layer&lt;/td&gt;
          &lt;td&gt;Provides communication between applications&lt;/td&gt;
          &lt;td&gt;Browsers, FTP clients, SMTP clients&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Presentation Layer&lt;/td&gt;
          &lt;td&gt;Data representation and transformation&lt;/td&gt;
          &lt;td&gt;Encryption, compression&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Session Layer&lt;/td&gt;
          &lt;td&gt;Manages session connections&lt;/td&gt;
          &lt;td&gt;Session ID&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Transport Layer&lt;/td&gt;
          &lt;td&gt;End-to-end communication&lt;/td&gt;
          &lt;td&gt;TCP, UDP&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Network Layer&lt;/td&gt;
          &lt;td&gt;Routing across networks and IP address recognition&lt;/td&gt;
          &lt;td&gt;Routers, switches&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Data Link Layer&lt;/td&gt;
          &lt;td&gt;Frame transmission and MAC address recognition&lt;/td&gt;
          &lt;td&gt;Network cards, switches&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Physical Layer&lt;/td&gt;
          &lt;td&gt;Bitstream transmission&lt;/td&gt;
          &lt;td&gt;Wires, fiber optics&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;2-differences-between-http11-and-http2&#34;&gt;2. Differences between HTTP/1.1 and HTTP/2
&lt;/h2&gt;&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Feature&lt;/th&gt;
          &lt;th&gt;HTTP/1.1&lt;/th&gt;
          &lt;th&gt;HTTP/2&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;Transmission Overhead&lt;/td&gt;
          &lt;td&gt;Text-based transmission, higher overhead&lt;/td&gt;
          &lt;td&gt;Binary stream transmission, lower overhead&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Multiplexing&lt;/td&gt;
          &lt;td&gt;Sequential loading of resources, one resource blockage affects subsequent resources&lt;/td&gt;
          &lt;td&gt;Multiple data streams can be sent simultaneously over a single TCP connection, without blocking each other&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Server Push&lt;/td&gt;
          &lt;td&gt;Not supported&lt;/td&gt;
          &lt;td&gt;Supported, the server can push content before the client requests it&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;Header Compression&lt;/td&gt;
          &lt;td&gt;Not compressed or simple compression, redundant information&lt;/td&gt;
          &lt;td&gt;Uses HPACK compression, reduces redundancy, improves loading speed&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id=&#34;3-tcp-connection-states&#34;&gt;3. TCP Connection States
&lt;/h2&gt;&lt;p&gt;&lt;img src=&#34;https://hangops.top/img/interview/tcp_netstat.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;alt text&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;4-why-tcp-is-three-way-handshake&#34;&gt;4. Why TCP is Three-Way Handshake
&lt;/h2&gt;&lt;p&gt;Because three-way handshake is necessary to ensure that both parties have the ability to receive and send.&lt;/p&gt;
&lt;h3 id=&#34;why-not-2-way-handshake&#34;&gt;Why Not 2-Way Handshake
&lt;/h3&gt;&lt;p&gt;Suppose we need two handshakes:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Client sends SYN&lt;/li&gt;
&lt;li&gt;Server returns ACK&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
&lt;li&gt;If there is a delay or packet loss in the network, an old SYN packet may remain in the network.&lt;/li&gt;
&lt;li&gt;The server receives the lingering SYN and mistakenly believes that the client wants to establish a new connection, and returns an ACK.&lt;/li&gt;
&lt;li&gt;The client receives the ACK and mistakenly believes that the connection has been established, and continues to send data.&lt;/li&gt;
&lt;li&gt;The server receives the data and mistakenly believes it to be traffic from a new connection, and handles it incorrectly.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;why-not-4-times-or-more&#34;&gt;Why Not 4 Times or More?
&lt;/h3&gt;&lt;p&gt;Three handshakes are sufficient to establish a connection; four or more handshakes would increase complexity and waste resources.&lt;/p&gt;
&lt;h2 id=&#34;5-dns-resolution-process&#34;&gt;5. DNS Resolution Process
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Local host mapping (highest priority, returns directly if there is a record)&lt;/li&gt;
&lt;li&gt;Client cache (browser cache, IOS cache)&lt;/li&gt;
&lt;li&gt;DNS Resolver (/etc/resolv.conf specifies the system query DNS server, usually the local router or operator DNS)&lt;/li&gt;
&lt;li&gt;DNS Iterative Query Process (root domain server -&amp;gt; top-level domain server -&amp;gt; authoritative domain server (e.g., route 53))&lt;/li&gt;
&lt;li&gt;Returns to the client&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;6-cookie-session-token&#34;&gt;6. Cookie, Session, Token
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Different storage locations
&lt;ul&gt;
&lt;li&gt;Cookie, Token are stored on the client side, while Session is stored on the server side&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Different data security
&lt;ul&gt;
&lt;li&gt;Cookie is stored on the client side and is easily stolen, not secure&lt;/li&gt;
&lt;li&gt;Session is stored on the server side and is associated with different users&amp;rsquo; sessions through a Session ID between the client and server, which can avoid exposing sensitive data directly&lt;/li&gt;
&lt;li&gt;Token is usually generated using an encryption algorithm, has a short expiration time, and is one-way and irreversible, which can provide higher security.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Different cross-domain support
Cookie and Session do not support cross-domain transmission, but Token can easily implement cross-domain. Because Token is stored in the client&amp;rsquo;s localStorage or sent as part of the request header to the server, the Token information transmission between different domains is usually not affected.&lt;/li&gt;
&lt;li&gt;Different state management
&lt;ul&gt;
&lt;li&gt;Cookie is stored on the client side and can be directly manipulated by the client for state management.&lt;/li&gt;
&lt;li&gt;Session is stored on the server side, and the server identifies different user sessions through Session ID.&lt;/li&gt;
&lt;li&gt;Token is generated on the client side and needs to be carried by the client in each request for identity verification.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Different application scenarios
&lt;ul&gt;
&lt;li&gt;Cookie is usually used to store user login status, remember user preferences, and maintain login status.&lt;/li&gt;
&lt;li&gt;Session is suitable for scenarios where user state needs to be stored on the server side, such as shopping carts, form submissions, etc., that need to track user states.&lt;/li&gt;
&lt;li&gt;Token is suitable for scenarios where identity verification needs to be performed between the client and server, such as API access control, single sign-on (SSO), mobile application authentication, etc.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;7-http-status-codes-and-reasons&#34;&gt;7. HTTP Status Codes and Reasons
&lt;/h2&gt;&lt;p&gt;Some frequently examined status codes&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;301 Moved Permanently: The requested resource has been permanently moved to a new location. Often used for domain switching.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;302 Found: Temporarily redirected, the requested resource is temporarily moved to a new location. (Browsers often use it for login redirection).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;403 Forbidden: Insufficient permissions, or has a Token but no permissions.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;404 Not Found: The requested resource does not exist.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;502 Bad Gateway: The upstream service (Nginx → Application) returns an invalid response.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;504 Gateway Timeout: The upstream service response is too slow (Nginx → Backend timeout).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;8-linux-network-packet-loss-troubleshooting&#34;&gt;8. Linux Network Packet Loss Troubleshooting
&lt;/h2&gt;&lt;p&gt;Troubleshooting Chain:
Application → System → Network Stack → Network Card → Cloud Side → External Link&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Application Layer Packet Loss&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Check application logs for exceptions or error information. (Timeouts, link failures, interface qps spikes)&lt;/li&gt;
&lt;li&gt;Simulate client curl/wget to directly test&lt;/li&gt;
&lt;li&gt;Use tcpdump to capture packets: sudo tcpdump -i eth0 host &lt;peer-ip&gt; -w app.pcap&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;System Layer Packet Loss&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Check network card statistics: ethtool -S eth0&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;Metric&lt;/th&gt;
          &lt;th&gt;Meaning&lt;/th&gt;
          &lt;th&gt;Notes&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;rx_dropped&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Receive dropped packets&lt;/td&gt;
          &lt;td&gt;NIC or kernel queue full&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;rx_errors&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Receive errors&lt;/td&gt;
          &lt;td&gt;CRC, frame errors&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;tx_errors&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Transmission errors&lt;/td&gt;
          &lt;td&gt;Not sent out&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;rx_no_buffer&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Ring buffer insufficient&lt;/td&gt;
          &lt;td&gt;High pressure common&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;&lt;code&gt;rx_over_errors&lt;/code&gt;&lt;/td&gt;
          &lt;td&gt;Receive queue overflow&lt;/td&gt;
          &lt;td&gt;System bottleneck&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check Linux network stack layer packet loss: netstat -s&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Check kernel parameters&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.core.rmem_default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.core.wmem_default
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.core.netdev_max_backlog
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.ipv4.tcp_rmem
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sysctl net.ipv4.tcp_wmem
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Network Card Queue (Ring buffer) Packet Loss ethtool -g eth0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CPU/Interrupt&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Check the network card configuration parameters to ensure that there are no settings that cause packet loss.&lt;/li&gt;
&lt;li&gt;Use tools like &lt;code&gt;ethtool&lt;/code&gt; to view the network card&amp;rsquo;s statistical information to confirm if there is any packet loss.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Network Path Packet Loss (Common in cloud side)
mtr -rwzbc 100 &lt;target-ip&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Target End Packet Loss (Opposite entry is full)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Local machine
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tcpdump -i eth0 host &amp;lt;peer&amp;gt; -w local.pcap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Remote end
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;tcpdump -i eth0 host &amp;lt;your-ip&amp;gt; -w remote.pcap
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;9-long-connections-short-connections-websocket-differences-and-use-cases&#34;&gt;9. Long Connections, Short Connections, WebSocket Differences and Use Cases
&lt;/h2&gt;&lt;p&gt;Short Connections
The connection between the client and server is closed immediately after each request is completed. This is the default behavior in HTTP/1.0.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For one-time requests, such as retrieving static resources (HTML, CSS, images, etc.).&lt;/li&gt;
&lt;li&gt;For applications that do not require frequent interaction, short connections are simple and easy to use.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Long Connections
Refers to a TCP connection in which multiple requests and responses can be made and received without the need to frequently establish and close connections. This is the default behavior in HTTP/1.1.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For applications that require frequent interaction, such as online chat, real-time data streams (mysql, redis, etc.).&lt;/li&gt;
&lt;li&gt;Suitable for scenarios that need to maintain sessions, such as shopping cart operations on e-commerce websites.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;WebSocket
A protocol that allows full-duplex communication over a single TCP connection, allowing the server to send data to the client actively. Supports two-way communication.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;For real-time applications, such as online games, stock market quotes, social media instant messages, etc.&lt;/li&gt;
&lt;li&gt;Suitable for applications that require immediate feedback, such as collaborative editing tools, online customer service, etc.&lt;/li&gt;
&lt;li&gt;For real-time communication between IoT (Internet of Things) devices.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;10-how-mac-address-and-ip-address-are-converted&#34;&gt;10. How MAC Address and IP Address are Converted
&lt;/h2&gt;&lt;p&gt;ARP is used to find the MAC address through IP address and store the corresponding relationship in the ARP cache table.&lt;/p&gt;
&lt;p&gt;Second-layer devices, send data frames&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The source host first sends a broadcast frame, carrying its IP address and MAC address, and also carrying the IP address to be searched.&lt;/li&gt;
&lt;li&gt;Other hosts receive it and if they find that the IP address is their own, they need to return their IP address and MAC address, unicast to the source host, and record the corresponding relationship in their own high-speed cache table.&lt;/li&gt;
&lt;li&gt;The source host receives it and records it in the high-speed cache table after receiving it.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;11-differences-and-use-cases-of-lvs-nginx-and-haproxy&#34;&gt;11. Differences and Use Cases of LVS, Nginx, and HAProxy
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;LVS is a load balancer based on the IP layer, working at layer 4 (Transport Layer) of the OSI model, and is mainly used for load balancing TCP and UDP traffic.&lt;/li&gt;
&lt;li&gt;Nginx is a high-performance web server and reverse proxy server that can also be used as a load balancer. It works at layer 7 (Application Layer) of the OSI model and is mainly used for processing HTTP and HTTPS requests.&lt;/li&gt;
&lt;li&gt;HAProxy is an open-source load balancer that works at layer 7 (Application Layer) of the OSI model and is mainly used for load balancing HTTP and HTTPS requests.&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SRE Interview Questions Summary | SRE</title>
        <link>https://hangops.top/en/topic/interview/sre/</link>
        <pubDate>Thu, 04 Dec 2025 10:06:35 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/sre/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post SRE Interview Questions Summary | SRE" /&gt;&lt;h2 id=&#34;1-sla-slo-sli&#34;&gt;1. SLA, SLO, SLI
&lt;/h2&gt;&lt;p&gt;SLI: Service Level Indicator (percentage of normal response counts)&lt;/p&gt;
&lt;p&gt;SLO: Service Level Objective (99%, 99.999%, 99.99999%)
Must be tied to time&lt;/p&gt;
&lt;p&gt;SLA: Service Level Agreement (the specific implementation of SLO)&lt;/p&gt;
&lt;p&gt;SLA is the external commitment to the customer, SLO is the internal goal set by the company to achieve the commitment, and SLI is the indicator used to measure the actual service performance.&lt;/p&gt;
&lt;h2 id=&#34;2-mttr&#34;&gt;2. MTTR
&lt;/h2&gt;&lt;p&gt;MTTR: Mean Time to Repair (Average Time to Repair)&lt;/p&gt;
&lt;p&gt;MTTR = Total Time to Repair ÷ Number of Faults&lt;/p&gt;
&lt;h3 id=&#34;how-to-reduce-mttr&#34;&gt;How to Reduce MTTR?
&lt;/h3&gt;&lt;h3 id=&#34;monitoring&#34;&gt;Monitoring
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Improve the monitoring and alerting system
&lt;ul&gt;
&lt;li&gt;Business metric monitoring&lt;/li&gt;
&lt;li&gt;System metric monitoring&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Alert Noise Reduction
&lt;ul&gt;
&lt;li&gt;Alert Grading: p1, p2, p3&lt;/li&gt;
&lt;li&gt;Alert Escalation: When an alert level is P2 and has not been handled (not closed, not suppressed, etc.) within 1 hour, it will automatically escalate to p1&lt;/li&gt;
&lt;li&gt;Alert Interval: The minimum interval for the same alert to be sent by default is 15m&lt;/li&gt;
&lt;li&gt;Alert Flood: Set appropriate alert strategies to avoid too many alerts and alert loss&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;fast-location&#34;&gt;Fast Location
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Standardized troubleshooting SOP
&lt;ul&gt;
&lt;li&gt;How to check when CPU and memory are soaring&lt;/li&gt;
&lt;li&gt;How to check when ELB 5xx occurs&lt;/li&gt;
&lt;li&gt;How to check when Pod CrashLoop occurs&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Automatically capture on-site information
&lt;ul&gt;
&lt;li&gt;C++ core dump&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Unified logging platform
&lt;ul&gt;
&lt;li&gt;ELK / Loki&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Full-link tracking&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;fast-problem-resolution&#34;&gt;Fast Problem Resolution
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Gray release / Canary release&lt;/li&gt;
&lt;li&gt;Configuration center (apollo) + dynamic traffic splitting (like a switch to turn off a module)&lt;/li&gt;
&lt;li&gt;Auto-scaling (auto-scaling based on business traffic, HPA)&lt;/li&gt;
&lt;li&gt;Scripted repair
&lt;ul&gt;
&lt;li&gt;One-click restart&lt;/li&gt;
&lt;li&gt;One-click clear DNS cache&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;high-availability-deployment&#34;&gt;High Availability Deployment
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;High availability&lt;/li&gt;
&lt;li&gt;Multi-AZ deployment&lt;/li&gt;
&lt;li&gt;Automatic failover&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;continuous-drills--reliability-testing&#34;&gt;Continuous Drills &amp;amp; Reliability Testing
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;Chaos engineering (pre-drill faults)&lt;/li&gt;
&lt;li&gt;Add missing monitoring points&lt;/li&gt;
&lt;li&gt;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>SRE Interview Questions Summary | Linux</title>
        <link>https://hangops.top/en/topic/interview/liunx/</link>
        <pubDate>Wed, 03 Dec 2025 02:56:44 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/liunx/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post SRE Interview Questions Summary | Linux" /&gt;&lt;h2 id=&#34;1-processes-threads-and-coroutines&#34;&gt;1. &lt;strong&gt;Processes, Threads, and Coroutines&lt;/strong&gt;
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Process&lt;/strong&gt;: The smallest unit of resource allocation in an operating system, including CPU, memory, and disk I/O. A process can have multiple threads.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Thread&lt;/strong&gt;: The execution unit within a process. A process can have multiple threads, and threads share the resources of the process.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Coroutine&lt;/strong&gt;: A lightweight user-space thread controlled by the user program, without the need for operating system support.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;2-process-priority-in-linux-and-setting-methods&#34;&gt;2. Process Priority in Linux and Setting Methods
&lt;/h2&gt;&lt;p&gt;The priority of a process determines the order in which it gets CPU time slices. Higher priority (lower numerical value) processes get CPU time slices first.&lt;/p&gt;
&lt;p&gt;The priority of a process is represented by the Nice value, which ranges from -20 (highest priority) to 19 (lowest priority). By default, the Nice value of a process is 0.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;nice command&lt;/strong&gt;: The nice command is used to start a process and set its Nice value. For example, &lt;code&gt;nice -n 10 command&lt;/code&gt; starts the command with a Nice value of 10.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;renice command&lt;/strong&gt;: The renice command is used to modify the Nice value of a running process. For example, &lt;code&gt;renice +5 -p 1234&lt;/code&gt; increases the Nice value of the process with PID 1234 by 5. Note that only the root user can lower the Nice value of a process.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Calling nice() or setpriority() functions in code&lt;/strong&gt;: If you are writing a program, you can call the nice() or setpriority() functions in your code to change the priority of your process.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;3-what-is-a-zombie-process&#34;&gt;3. What is a Zombie Process
&lt;/h2&gt;&lt;p&gt;A zombie process is a process that has terminated but whose process descriptor (process descriptor) is still in memory.
The parent process has not yet reclaimed the resources of the child process.&lt;/p&gt;
&lt;h2 id=&#34;4-what-is-process-interrupt&#34;&gt;4. What is Process Interrupt
&lt;/h2&gt;&lt;p&gt;An interrupt is a mechanism used by the system to respond to hardware device requests, which interrupts the normal scheduling and execution of a process, and then calls the kernel&amp;rsquo;s interrupt handler to respond to the device request.
For example, in the case of ordering takeout food, instead of waiting, the action of calling is an interrupt.
Interrupts are an asynchronous processing mechanism that can improve the concurrency processing capability of the system.&lt;/p&gt;
&lt;h3 id=&#34;41-soft-interrupts-hard-interrupts-and-uninterruptible-processes&#34;&gt;4.1 Soft Interrupts, Hard Interrupts, and Uninterruptible Processes
&lt;/h3&gt;&lt;p&gt;Linux divides interrupts into two parts: the upper part and the lower part.
The upper part directly handles hardware requests and is characterized by fast execution (hard interrupt).
The lower part is triggered by the kernel and is characterized by delayed execution (soft interrupt).
An uninterruptible process indicates that the process and hardware are interacting, and to maintain consistency between process data and hardware, the system does not allow other processes or interrupts to interrupt this process. A process that remains in an uninterruptible state for a long time usually indicates that there is a problem with system I/O.&lt;/p&gt;
&lt;h2 id=&#34;5-ways-of-inter-process-communication-and-their-use-cases&#34;&gt;5. Ways of Inter-Process Communication and Their Use Cases
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Pipe (Pipe) and Named Pipe (Named pipe)&lt;/strong&gt;: A pipe is a half-duplex communication method, mainly used for inter-process communication between processes with parent-child relationships. A named pipe is a full-duplex communication method that can be used for communication between any two processes. They are mainly used for streaming data transmission.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Message Queue (Message Queue)&lt;/strong&gt;: A message queue is a list structure that can store messages to be sent. A process can add messages to a message queue and also read messages from it. Message queues are often used for data exchange and synchronization between different processes.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Shared Memory (Shared Memory)&lt;/strong&gt;: Shared memory is the fastest IPC method, allowing two or more processes to access the same memory area. This method is often used for exchanging large amounts of data.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Signal (Signal)&lt;/strong&gt;: Signals are an asynchronous communication method used to notify the receiving process that an event has occurred. For example, when a process ends, it sends a SIGCHLD signal to its parent process.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Socket (Socket)&lt;/strong&gt;: Sockets can be used for inter-process communication between processes on different machines, as well as on the same machine. It supports TCP, UDP, and other protocols and is often used for network communication.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Semaphore (Semaphore)&lt;/strong&gt;: Semaphores are mainly used to solve race conditions and protect the access to critical resources. When multiple processes need to access the same resource, they can use semaphores for synchronization.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;File Locking (File Locking)&lt;/strong&gt;: File locks can be used to control access to the same file by multiple processes. When a process is accessing a file, other processes must wait until the process releases the file lock.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;6-ways-to-limit-cpu-in-cgroup&#34;&gt;6. Ways to Limit CPU in cgroup
&lt;/h2&gt;&lt;p&gt;cgroups, short for control groups, is a feature of the Linux kernel that is used to limit, control, and isolate the resources of a process (such as CPU, memory, disk, etc.).&lt;/p&gt;
&lt;p&gt;In cgroup, there are two ways to limit CPU:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;CPU Time Slice Limitation&lt;/strong&gt;: By setting the cpu.cfs_quota_us and cpu.cfs_period_us parameters, the CPU time that a process can use in each time period is limited.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CPU Core Limitation&lt;/strong&gt;: By setting the cpu.shares parameter, the running time proportion of a process on multiple CPU cores is limited.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;7-the-difference-between-buffers-and-cached-in-memory&#34;&gt;7. The Difference Between Buffers and Cached in Memory
&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;Design Purpose&lt;/strong&gt;: To improve system I/O performance&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Buffers&lt;/strong&gt;: The memory used by kernel buffers, corresponding to the Buffers value in /proc/meminfo.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cache&lt;/strong&gt;: The memory used by kernel page cache and Slab, corresponding to the sum of Cached and SReclaimable in /proc/meminfo.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Buffers&lt;/strong&gt; are used to temporarily store data to be written to the hard disk, while &lt;strong&gt;Cached&lt;/strong&gt; is used to store data that has been read from the hard disk for quick access.
&lt;strong&gt;Buffer&lt;/strong&gt; is a cache for disk data. &lt;strong&gt;Cache&lt;/strong&gt; is a cache for file data, which is used in both read and write requests.&lt;/p&gt;
&lt;p&gt;Linux follows the principle of using as much memory as possible, and memory will allocate the remaining space as cache, while cache does not belong to free. When the system runs for a long time, we will find that the cache is very large.&lt;/p&gt;
&lt;p&gt;When we see that the system memory usage is very high and free is almost 0, it does not mean that the system memory capacity has a bottleneck! It just means that the system has fully utilized the memory. When a process needs to apply for a large file memory, the kernel will reclaim some cache space, and the reclaimed memory will be allocated to the process program.&lt;/p&gt;
&lt;h2 id=&#34;8-the-difference-between-stack-memory-and-heap-memory&#34;&gt;8. The Difference Between Stack Memory and Heap Memory
&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Stack Memory (Stack)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Characteristics&lt;/strong&gt;: Stack memory is automatically allocated and released, and has the Last In First Out (LIFO) characteristic. Variables in stack memory are created when a function is called and are automatically destroyed when the function returns. Its management is controlled by the compiler, so it is efficient.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Usage&lt;/strong&gt;: It is usually used to store temporary data such as local variables and function parameters.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Advantages&lt;/strong&gt;: Memory allocation and release are fast, and it is not easy to produce memory fragmentation.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Disadvantages&lt;/strong&gt;: The size of stack memory is usually limited, and it cannot be used to store a large amount of data or data that needs to be used for a long time.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Heap Memory (Heap)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Characteristics&lt;/strong&gt;: Heap memory is dynamically allocated, and its size is not fixed. It needs to be manually allocated and released by the programmer. If it is forgotten to release, it may cause memory leaks. It does not have a strict LIFO order and can request memory allocation at any location in the program.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Usage&lt;/strong&gt;: It is used to store a large amount of data that needs to be dynamically allocated, such as objects and global data. It is allocated through malloc() or new and released through free() or delete.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Advantages&lt;/strong&gt;: Suitable for long-term use of data or large data structures, such as linked lists and trees. The size of heap memory is almost infinite compared to the stack (subject to physical memory and system limitations).&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Disadvantages&lt;/strong&gt;: Since it needs to be manually managed, the allocation and release of heap memory is slower, and it is easy to cause memory fragmentation.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Difference Summary&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Lifecycle&lt;/strong&gt;: The data in stack memory is valid during the function call period, while the data in heap memory is valid until it is manually released.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Allocation Method&lt;/strong&gt;: The stack is automatically allocated and managed by the system, while the heap is dynamically allocated and managed by the programmer.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Efficiency&lt;/strong&gt;: Stack memory is efficient, while heap memory allocation and release is slower.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;9-how-to-adjust-the-maximum-number-of-processes-maximum-number-of-threads-and-maximum-number-of-open-files&#34;&gt;9. How to Adjust the Maximum Number of Processes, Maximum Number of Threads, and Maximum Number of Open Files
&lt;/h2&gt;&lt;h3 id=&#34;checking-current-limits&#34;&gt;Checking Current Limits
&lt;/h3&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -a
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -u      &lt;span class=&#34;c1&#34;&gt;# Maximum number of processes/threads&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -n      &lt;span class=&#34;c1&#34;&gt;# Maximum number of file handles&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;adjusting-maximum-file-number&#34;&gt;Adjusting Maximum File Number
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Temporary Effect&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -n &lt;span class=&#34;m&#34;&gt;65535&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Permanent Effect&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo vim /etc/security/limits.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;Add the following content:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* soft nofile 65535
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* hard nofile 65535
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;adjusting-maximum-process-number--maximum-thread-number&#34;&gt;Adjusting Maximum Process Number / Maximum Thread Number
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Temporary Effect&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;ulimit&lt;/span&gt; -u &lt;span class=&#34;m&#34;&gt;65535&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;Permanent Effect&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo vim /etc/security/limits.conf
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;Add the following content:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-fallback&#34; data-lang=&#34;fallback&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* soft nproc 65535
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;* hard nproc 65535
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;notes&#34;&gt;Notes
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Soft Limit&lt;/strong&gt;: Users can exceed this value, but cannot exceed the hard limit.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Hard Limit&lt;/strong&gt;: Users cannot exceed this value, nor can they be lower than the soft limit.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The &lt;code&gt;/etc/sysctl.conf&lt;/code&gt; file belongs to system-level kernel parameters and requires a restart to take effect.
The &lt;code&gt;/etc/security/limits.conf&lt;/code&gt; file belongs to user-level or process-level parameters and requires a re-login to take effect.&lt;/p&gt;
&lt;h2 id=&#34;10-the-difference-between-load-and-cpu-usage&#34;&gt;10. The Difference Between Load and CPU Usage
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Load&lt;/strong&gt;: The average load refers to the average number of processes in the system that are in a state of runnable (R) and uninterruptible (D) (average active process count) within a unit of time.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;CPU Usage&lt;/strong&gt;: The CPU usage refers to the proportion of the total time that the CPU is processing tasks within a unit of time.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The ideal situation: the average load is equal to the number of CPU cores, and there is a process on each core.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Check the number of CPU cores
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep &lt;span class=&#34;s1&#34;&gt;&amp;#39;model name&amp;#39;&lt;/span&gt; /proc/cpuinfo &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; wc -l
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uptime
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt; 06:44:50 up &lt;span class=&#34;m&#34;&gt;190&lt;/span&gt; days, 22:44,  &lt;span class=&#34;m&#34;&gt;4&lt;/span&gt; users,  load average: 0.42, 0.14, 0.04
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h3 id=&#34;relationship-between-the-two&#34;&gt;Relationship Between the Two
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;CPU-Intensive Processes&lt;/strong&gt;: Using a lot of CPU will cause the average load to rise, and these two are consistent.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;I/O-Intensive Processes&lt;/strong&gt;: Waiting for I/O will also cause the average load to rise, but the CPU usage may not be very high.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A Large Number of Waiting CPU Processes&lt;/strong&gt;: Scheduling processes will also cause the average load to rise, and the CPU usage will also be relatively high.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;11-why-du-and-df-show-different-disk-usage-results&#34;&gt;11. Why du and df Show Different Disk Usage Results
&lt;/h2&gt;&lt;p&gt;In the system, there may be a large number of deleted files (zombie files), and there are running processes using these file handles.&lt;/p&gt;
&lt;p&gt;When a file is deleted, if a process is still using the file, du will not count this part of the space because the file has been removed from the directory structure; however, df will count this part of the space because the disk space is actually still being occupied.&lt;/p&gt;
&lt;h3 id=&#34;solution&#34;&gt;Solution
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Reboot the system&lt;/strong&gt;: Rebooting the system can clear all unused file handles, including zombie files.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Find and close the process&lt;/strong&gt;: Use tools like lsof or fuser to find and close the process using the zombie file.
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsof &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep deleted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Manually delete the file&lt;/strong&gt;: If the process cannot be closed, the file must be manually deleted. However, be careful that all processes using the file will not work normally after the file is deleted.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Kill the process&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;12-the-difference-between-hard-links-and-soft-links&#34;&gt;12. The Difference Between Hard Links and Soft Links
&lt;/h2&gt;&lt;p&gt;Hard links and soft links are two different types of file system links used to share files between directories.&lt;/p&gt;
&lt;h3 id=&#34;hard-links&#34;&gt;Hard Links
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;a.&lt;/strong&gt; Multiple files with the same inode node number are mutually hard linked files;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;b.&lt;/strong&gt; Hard linked files are another entry point for the file;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;c.&lt;/strong&gt; Hard links can be set up for files to prevent important files from being deleted by mistake;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;d.&lt;/strong&gt; Deleting a hard link file or deleting the source file will not delete the file entity, and it will only take effect when both are deleted.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;soft-links&#34;&gt;Soft Links
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;a.&lt;/strong&gt; Similar to the shortcut in Windows systems;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;b.&lt;/strong&gt; Soft links store the path to the source file, pointing to the source file;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;c.&lt;/strong&gt; Deleting the source file, the soft link still exists, but cannot access the content of the source file;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;d.&lt;/strong&gt; Soft links and source files are different files, and the file types are also different, and the inode number is also different;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;13-how-to-partition-lvm&#34;&gt;13. How to Partition LVM
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Create Physical Volume (PV)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Create Volume Group (VG)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Create Logical Volume (LV)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Format Logical Volume (LV)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Mount Logical Volume (LV)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;In public cloud operations, it is rare to see LVM partitioning disks, which is actually completely normal and is an industry trend.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Cloud disks can be expanded directly, so there is no need for LVM&amp;rsquo;s PV/VG/LV.&lt;/li&gt;
&lt;li&gt;Traditional LVM is often used for RAID1 (mirroring) and RAID0 (performance enhancement). However, cloud disks at the bottom are already multi-replicated and provide high performance through SSD.&lt;/li&gt;
&lt;li&gt;K8s weakens the use of LVM, with the root disk running the system and data stored in PVC.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;14-how-to-create-and-manage-custom-systemd-services&#34;&gt;14. How to Create and Manage Custom systemd Services
&lt;/h2&gt;&lt;p&gt;The location of the custom service configuration file is &lt;code&gt;/etc/systemd/system/&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;After creating or modifying the unit file, you need to reload the configuration to take effect.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo systemctl daemon-reload
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;15-what-is-proc-in-the-linux-system&#34;&gt;15. What is /proc in the Linux System
&lt;/h2&gt;&lt;p&gt;/proc is an interface for user and kernel interaction, and the source of performance tool data (top, free, ps).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The &lt;span class=&#34;nb&#34;&gt;complete&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;command&lt;/span&gt; to start the current process
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/proc/进程号/cmdline
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;The list of environment variables of the current process
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/proc/2422772/environ
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;The output of /proc files is generated in C language and its derivatives, and needs to be separated to output normally.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;cat /proc/3824/cmdline &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; tr &lt;span class=&#34;s1&#34;&gt;&amp;#39;\0&amp;#39;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;16-use-cases-of-lsof-command&#34;&gt;16. Use Cases of lsof Command
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;View the files opened by a process&lt;/strong&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsof -p &lt;span class=&#34;m&#34;&gt;1234&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;View which process is using a specific port&lt;/strong&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsof -i :80
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;View all network connections&lt;/strong&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsof -i
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;View the files opened by a user&lt;/strong&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsof -u username
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;File has been deleted, but still occupied by a process&lt;/strong&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lsof &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; grep deleted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
        </item>
        <item>
        <title>Interview | DiDi Operations and Development Engineer</title>
        <link>https://hangops.top/en/topic/interview/experience/%E6%BB%B4%E6%BB%B4%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88/</link>
        <pubDate>Tue, 02 Dec 2025 07:20:45 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/experience/%E6%BB%B4%E6%BB%B4%E8%BF%90%E7%BB%B4%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post Interview | DiDi Operations and Development Engineer" /&gt;&lt;h2 id=&#34;tcp-connection-methods&#34;&gt;TCP Connection Methods
&lt;/h2&gt;&lt;p&gt;TCP Header Structure&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hangops.top/img/interview/tcp_header.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;tcp_header.png&#34;
	
	
&gt;
Control Bits:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SYN: Indicates the desire to establish a connection and sets the initial sequence number in the &amp;ldquo;Sequence Number&amp;rdquo; field.&lt;/li&gt;
&lt;li&gt;ACK: Acknowledgment bit, TCP specifies that this bit must be set to 1 except for the SYN packet used to establish the connection, which is used to confirm the receipt of data.&lt;/li&gt;
&lt;li&gt;RST: Indicates that an abnormal situation has occurred in the TCP connection and the connection must be forcibly disconnected.&lt;/li&gt;
&lt;li&gt;FIN: When the communication ends and the connection is to be disconnected, both hosts can exchange TCP segments with the FIN bit set to 1.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://hangops.top/img/interview/tcp.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;tcp_connect.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;p&gt;The state transition of the TCP client revolves around the three stages of &amp;ldquo;connection establishment - data transmission - connection closure,&amp;rdquo; with the core states including: CLOSED → SYN-SENT → ESTABLISHED → FIN-WAIT-1 → FIN-WAIT-2 → TIME-WAIT → CLOSED (active closure process).&lt;/p&gt;
&lt;p&gt;The typical state transition of the server is:
CLOSED → LISTEN → SYN-RECEIVED → ESTABLISHED (connection establishment);
if passively closed: ESTABLISHED → CLOSE-WAIT → LAST-ACK → CLOSED.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://hangops.top/img/interview/tcp_close.png&#34;
	
	
	
	loading=&#34;lazy&#34;
	
		alt=&#34;tcp_close.png&#34;
	
	
&gt;&lt;/p&gt;
&lt;h2 id=&#34;difference-between-502-and-504&#34;&gt;Difference between 502 and 504
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;502 Gateway Error: Usually occurs when the backend service returns an invalid response (such as returning HTML instead of JSON).&lt;/li&gt;
&lt;li&gt;504 Gateway Timeout: Usually occurs when the backend service response time exceeds the gateway timeout time.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;common-network-commands&#34;&gt;Common Network Commands
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;ping: Tests the network connection between hosts.&lt;/li&gt;
&lt;li&gt;traceroute: Traces the path of data packets from the source host to the target host.&lt;/li&gt;
&lt;li&gt;netstat: Displays network connections, routing table, and interface statistics.&lt;/li&gt;
&lt;li&gt;tcpdump: Captures and analyzes network traffic.&lt;/li&gt;
&lt;li&gt;wget: Downloads files from the network.&lt;/li&gt;
&lt;li&gt;curl: Sends HTTP requests and displays responses.&lt;/li&gt;
&lt;li&gt;ifconfig/ip: Configures and displays network interface information.&lt;/li&gt;
&lt;li&gt;route: Displays and operates the IP routing table.&lt;/li&gt;
&lt;li&gt;dig: Queries DNS servers.&lt;/li&gt;
&lt;li&gt;nslookup: Queries DNS servers.&lt;/li&gt;
&lt;li&gt;host: Queries DNS servers.&lt;/li&gt;
&lt;li&gt;whois: Queries domain registration information.&lt;/li&gt;
&lt;li&gt;nmap: Network scanning tool.&lt;/li&gt;
&lt;li&gt;iperf: Tests network bandwidth.&lt;/li&gt;
&lt;li&gt;tcpdump: Captures and analyzes network traffic.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;how-to-view-the-process-id-of-the-80-port&#34;&gt;How to View the Process ID of the 80 Port
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;View process ID: &lt;code&gt;netstat -tuln | grep :80&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;View process details: &lt;code&gt;ps -ef | grep &amp;lt;pid&amp;gt;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;what-have-you-done-for-stability&#34;&gt;What Have You Done for Stability?
&lt;/h2&gt;&lt;p&gt;Open question&lt;/p&gt;
</description>
        </item>
        <item>
        <title>Interview | Zhishupu Huazhang Operations Engineer</title>
        <link>https://hangops.top/en/topic/interview/experience/%E6%99%BA%E8%B0%B1%E5%8D%8E%E7%AB%A0%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%88/</link>
        <pubDate>Tue, 02 Dec 2025 07:20:29 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/experience/%E6%99%BA%E8%B0%B1%E5%8D%8E%E7%AB%A0%E8%BF%90%E7%BB%B4%E5%B7%A5%E7%A8%8B%E5%B8%88/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post Interview | Zhishupu Huazhang Operations Engineer" /&gt;&lt;h2 id=&#34;sorting-files-by-modification-time-with-ls&#34;&gt;Sorting files by modification time with &lt;code&gt;ls&lt;/code&gt;
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ls -lt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;two-files-line-by-line-diff&#34;&gt;Two files line-by-line diff
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;diff -w test.sh test2.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;diff test.sh test2.sh 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;using-awk-to-get-the-last-line&#34;&gt;Using &lt;code&gt;awk&lt;/code&gt; to get the last line
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;awk &lt;span class=&#34;s1&#34;&gt;&amp;#39;{print $NF}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;several-probe-types-in-kubernetes&#34;&gt;Several probe types in Kubernetes
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;livenessProbe&lt;/code&gt; detects deadlocks and determines when to restart the container.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;readinessProbe&lt;/code&gt; checks if the container is ready to receive traffic.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;startupProbe&lt;/code&gt; checks if the service inside the container has started, which can be used for slow-starting containers for liveness detection, to avoid them being killed by kubelet before they start running.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;components-of-a-kubernetes-cluster&#34;&gt;Components of a Kubernetes cluster
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;kube-apiserver&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;etcd&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;kube-controller-manager&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;kube-scheduler&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;kubelet&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;kube-proxy&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Container runtime (e.g., Docker)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Network plugins (e.g., Calico, Flannel)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Storage plugins (e.g., Ceph, NFS)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;process-of-creating-a-pod&#34;&gt;Process of creating a pod
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;The user submits the pod&amp;rsquo;s YAML configuration to the API Server via &lt;code&gt;kubectl&lt;/code&gt; or other tools.&lt;/li&gt;
&lt;li&gt;The API server receives the request, validates it, and stores the configuration information in etcd.&lt;/li&gt;
&lt;li&gt;Scheduler detects a new pod creation and schedules the pod to a node based on scheduling policies.&lt;/li&gt;
&lt;li&gt;The kubelet detects that the node needs to create a pod:
&lt;ul&gt;
&lt;li&gt;Pulls the image&lt;/li&gt;
&lt;li&gt;Creates a sandbox, where all containers share the network and storage namespaces&lt;/li&gt;
&lt;li&gt;Calls the container runtime to create containers in the pod&lt;/li&gt;
&lt;li&gt;If there are init containers, kubelet starts them before the application containers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aws-node&lt;/code&gt; creates pod network interface and assigns an IP address&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Health checks, liveness probe, readiness probe, and startup probe are started and run.&lt;/li&gt;
&lt;li&gt;The kubelet updates the pod status to the API server, and the information is uploaded to etcd to achieve global consistency.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;creating-an-ingress&#34;&gt;Creating an Ingress
&lt;/h2&gt;&lt;p&gt;YAML configuration&amp;hellip;&lt;/p&gt;
&lt;h2 id=&#34;differences-between-add-and-copy-in-dockerfile&#34;&gt;Differences between &lt;code&gt;ADD&lt;/code&gt; and &lt;code&gt;COPY&lt;/code&gt; in Dockerfile
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ADD&lt;/code&gt;: Use when you need to download from a URL or automatically unzip a local compressed file.
&lt;ul&gt;
&lt;li&gt;If the source is a local compressed file, it will automatically unzip.&lt;/li&gt;
&lt;li&gt;Can fetch resources from a remote URL, such as downloading files from an HTTP server.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Prefer using &lt;code&gt;COPY&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;how-to-reduce-the-size-of-an-image&#34;&gt;How to reduce the size of an image
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Use a small base image&lt;/li&gt;
&lt;li&gt;Each &lt;code&gt;FROM&lt;/code&gt;, &lt;code&gt;RUN&lt;/code&gt;, &lt;code&gt;COPY&lt;/code&gt; command in the Dockerfile creates a separate layer, which increases the overall size and build time of the image. Combine multiple commands into a single layer.&lt;/li&gt;
&lt;li&gt;Use multi-stage builds&lt;/li&gt;
&lt;li&gt;Clean up unnecessary files (e.g., &lt;code&gt;yum clean all&lt;/code&gt; to delete package management cache)&lt;/li&gt;
&lt;li&gt;Finally, delete the installation packages&lt;/li&gt;
&lt;li&gt;Copy library files or installation packages into the image instead of installing them directly&lt;/li&gt;
&lt;li&gt;Use a &lt;code&gt;.dockerignore&lt;/code&gt; file&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;how-to-commit-a-running-container-to-an-image&#34;&gt;How to commit a running container to an image
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;docker commit &amp;lt;container_id&amp;gt; &amp;lt;image_name&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ps: &lt;code&gt;docker save&lt;/code&gt; saves the image as a tar file, and &lt;code&gt;docker load&lt;/code&gt; loads the image from a tar file.&lt;/p&gt;
&lt;h2 id=&#34;cicd-pipeline&#34;&gt;CI/CD pipeline
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;git clone -- complie -- build -- push
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>Interview | Baidu Information Security Operations</title>
        <link>https://hangops.top/en/topic/interview/experience/%E7%99%BE%E5%BA%A6%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E8%BF%90%E7%BB%B4/</link>
        <pubDate>Tue, 02 Dec 2025 07:19:58 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/experience/%E7%99%BE%E5%BA%A6%E4%BF%A1%E6%81%AF%E5%AE%89%E5%85%A8%E8%BF%90%E7%BB%B4/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post Interview | Baidu Information Security Operations" /&gt;&lt;h2 id=&#34;possible-pod-phases&#34;&gt;Possible Pod Phases
&lt;/h2&gt;&lt;p&gt;Pod Phase&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Running&lt;/li&gt;
&lt;li&gt;Succeeded (Job completion, CronJob completion)&lt;/li&gt;
&lt;li&gt;Failed (Program crash, container startup failure)&lt;/li&gt;
&lt;li&gt;Pending (Resource shortage, NodeSelector no match, slow image pull)&lt;/li&gt;
&lt;li&gt;Unknown (kubelet cannot report status, node offline, network interruption)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Creation/Deployment Related&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ContainerCreating (Container is being created, pulling image)&lt;/li&gt;
&lt;li&gt;PodInitializing (Container is initializing, executing init container)&lt;/li&gt;
&lt;li&gt;ImagePullBackOff (Image pull failed, e.g., authentication issue, image does not exist)&lt;/li&gt;
&lt;li&gt;ErrImagePull (Same as above, occurs earlier than BackOff)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Abnormalities During Runtime&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CrashLoopBackOff (After the container crashes, kubelet will restart the container based on the backoff strategy, default is 10s later)&lt;/li&gt;
&lt;li&gt;OOMKilled (Container memory exceeds the limit and is forcibly killed by kubelet)&lt;/li&gt;
&lt;li&gt;BackOff (After multiple failures, enter the backoff state, such as init container failure)&lt;/li&gt;
&lt;li&gt;CrashLoopBackOff (Main container keeps crashing and restarting)&lt;/li&gt;
&lt;li&gt;CreateContainerConfigError (Container creation configuration error, such as a non-existent mounted volume)&lt;/li&gt;
&lt;li&gt;Error (Container exits with a non-zero exit code, but may not trigger failure due to restart policy)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Termination/Completion&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Terminating (Container is terminating, such as deleting pod)&lt;/li&gt;
&lt;li&gt;Completed (Container exits normally, such as the main container exits)&lt;/li&gt;
&lt;li&gt;Failed (Container exits with a non-zero exit code and the restart policy is Never)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;alert-architecture&#34;&gt;Alert Architecture
&lt;/h2&gt;&lt;p&gt;Due to the involvement of the company&amp;rsquo;s alert system, it cannot be directly displayed.&lt;/p&gt;
&lt;h2 id=&#34;difference-between-counter-and-gauge-what-scenarios-to-use-counter&#34;&gt;Difference Between Counter and Gauge? What Scenarios to Use Counter
&lt;/h2&gt;&lt;p&gt;Counter&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Only increments&lt;/li&gt;
&lt;li&gt;Resets to zero after process restart&lt;/li&gt;
&lt;li&gt;qps, error, data processing volume (per item/package/byte), retry count&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Gauge&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Can increment or decrement&lt;/li&gt;
&lt;li&gt;Inventory values of Redis/Kafka/queue, cpu/memory, online number of people&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;difference-between-502-and-504&#34;&gt;Difference Between 502 and 504
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;502 Gateway Error, usually the backend service returns an invalid response (such as returning HTML instead of JSON)&lt;/li&gt;
&lt;li&gt;504 Gateway Timeout, usually the backend service response time exceeds the gateway timeout time&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ip-address-range-of-1921681025&#34;&gt;IP Address Range of 192.168.1.0/25
&lt;/h2&gt;&lt;p&gt;There are 2^7 - 2 = 126 IP addresses in total
000 0000
192.168.1.1～192.168.1.126&lt;/p&gt;
&lt;p&gt;192.168.1.127 is a broadcast address
192.168.1.128 is the subnet mask&lt;/p&gt;
&lt;h2 id=&#34;how-to-allow-port-80-on-a-single-machine-and-deny-all-other-ports&#34;&gt;How to Allow Port 80 on a Single Machine and Deny All Other Ports
&lt;/h2&gt;&lt;p&gt;iptables&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Allow localhost&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -A INPUT -i lo -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Allow established connections&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Allow port 80&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -A INPUT -p tcp --dport &lt;span class=&#34;m&#34;&gt;80&lt;/span&gt; -j ACCEPT
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Deny all other ports&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo iptables -P INPUT DROP
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Save rules&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo service iptables save
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;h2 id=&#34;using-decorators-in-python-to-count-function-execution-time&#34;&gt;Using Decorators in Python to Count Function Execution Time
&lt;/h2&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;18
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;19
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;20
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;21
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;22
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;23
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;functools&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wraps&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;timer_decorator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nd&#34;&gt;@wraps&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Preserve the original function&amp;#39;s metadata&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;wrapper&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kwargs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;start_time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;perf_counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# High-precision timing starts&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;args&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;kwargs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Execute the original function and get the result&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;perf_counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;    &lt;span class=&#34;c1&#34;&gt;# Timing ends&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;elapsed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end_time&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start_time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Function &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;func&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;vm&#34;&gt;__name__&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; execution time: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;elapsed&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.4f&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; seconds&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;result&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Return the result of the original function&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wrapper&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nd&#34;&gt;@timer_decorator&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add_numbers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Simulate time-consuming operation&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;b&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Call the function, automatic timing&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sum_result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;add_numbers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Calculation result: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sum_result&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
        </item>
        <item>
        <title>Interview | ByteDance International E-commerce</title>
        <link>https://hangops.top/en/topic/interview/experience/%E5%AD%97%E8%8A%82%E5%9B%BD%E9%99%85%E7%94%B5%E5%95%86sre/</link>
        <pubDate>Tue, 02 Dec 2025 07:19:21 +0000</pubDate>
        
        <guid>https://hangops.top/en/topic/interview/experience/%E5%AD%97%E8%8A%82%E5%9B%BD%E9%99%85%E7%94%B5%E5%95%86sre/</guid>
        <description>&lt;img src="https://hangops.top/img/cover/interview_cover.jpg" alt="Featured image of post Interview | ByteDance International E-commerce" /&gt;&lt;h2 id=&#34;first-round-interview&#34;&gt;First Round Interview
&lt;/h2&gt;&lt;h3 id=&#34;several-probe-methods-in-k8s&#34;&gt;Several Probe Methods in k8s
&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;livenessProbe&lt;/code&gt; detects deadlocks and determines when a container should be restarted.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;readinessProbe&lt;/code&gt; checks if the container is ready to receive traffic.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;startupProbe&lt;/code&gt; checks if the service inside the container has started up. The startup probe can be used for slow-starting containers to perform liveness checks, preventing them from being killed by kubelet before they start running.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;data-consistency-issues-with-dual-writing-or-triple-writing-across-regions&#34;&gt;Data Consistency Issues with Dual-Writing or Triple-Writing Across Regions
&lt;/h3&gt;&lt;h3 id=&#34;pod-resource-node-preemption-solution&#34;&gt;Pod Resource Node Preemption Solution
&lt;/h3&gt;&lt;p&gt;Enable node options in kubelet: &lt;code&gt;--cpu-manager-policy=static&lt;/code&gt;&lt;/p&gt;
&lt;h3 id=&#34;how-to-implement-scaling-in-k8s-services&#34;&gt;How to Implement Scaling in k8s Services
&lt;/h3&gt;&lt;p&gt;HPA (Horizontal Pod Autoscaler) automatically adjusts the number of replicas of a Deployment based on CPU utilization or custom metrics.&lt;/p&gt;
&lt;h3 id=&#34;troubleshooting-experience&#34;&gt;Troubleshooting Experience
&lt;/h3&gt;&lt;h3 id=&#34;how-to-design-an-alert-architecture&#34;&gt;How to Design an Alert Architecture
&lt;/h3&gt;&lt;h3 id=&#34;pain-points-in-current-work&#34;&gt;Pain Points in Current Work
&lt;/h3&gt;&lt;h3 id=&#34;which-business-metrics-would-you-focus-on&#34;&gt;Which Business Metrics Would You Focus On
&lt;/h3&gt;&lt;h3 id=&#34;data-format-of-ad-auction-returns&#34;&gt;Data Format of Ad Auction Returns
&lt;/h3&gt;&lt;h3 id=&#34;a-leetcode-question-restore-ip-addresses&#34;&gt;A LeetCode Question: Restore IP Addresses
&lt;/h3&gt;</description>
        </item>
        
    </channel>
</rss>
