<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="Containerd Command Line Management Tool Reasons for Kubernetes to Shift from Docker to containerd Architectural Reasons The process of starting a container by kubelet:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 kubelet ‚îÇ ‚îÇ (Calls CRI interface) ‚ñº dockershim (K8s-maintained CRI translation layer) ‚îÇ ‚îÇ (Calls Docker Engine API) ‚ñº Docker Engine ‚îÇ ‚îÇ (Calls containerd API) ‚ñº containerd ‚îÇ ‚îÇ (Calls OCI interface) ‚ñº runc (OCI runtime) ‚îÇ ‚îî‚îÄ&gt; Truly create Linux container (namespace, cgroups, rootfs...) Docker Engine is a complete platform (building images, managing network, Volume, Swarm, etc.), which are redundant for K8s. dockershim is only for translating the CRI (K8s language) into Docker API (Docker language). The actual execution of containers is still containerd + runc. When kubelet directly uses containerd, the call chain is simplified to:\n">
<title>Containerd Command Line Management Tool</title>

<link rel='canonical' href='https://hangops.top/en/ops/docker/containerd%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/'>

<link rel="stylesheet" href="/scss/style.min.68d8662d637d4bfd58a141486b21f6b2bd0dd249db2c3513557731573f7ca445.css"><meta property='og:title' content="Containerd Command Line Management Tool">
<meta property='og:description' content="Containerd Command Line Management Tool Reasons for Kubernetes to Shift from Docker to containerd Architectural Reasons The process of starting a container by kubelet:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 kubelet ‚îÇ ‚îÇ (Calls CRI interface) ‚ñº dockershim (K8s-maintained CRI translation layer) ‚îÇ ‚îÇ (Calls Docker Engine API) ‚ñº Docker Engine ‚îÇ ‚îÇ (Calls containerd API) ‚ñº containerd ‚îÇ ‚îÇ (Calls OCI interface) ‚ñº runc (OCI runtime) ‚îÇ ‚îî‚îÄ&gt; Truly create Linux container (namespace, cgroups, rootfs...) Docker Engine is a complete platform (building images, managing network, Volume, Swarm, etc.), which are redundant for K8s. dockershim is only for translating the CRI (K8s language) into Docker API (Docker language). The actual execution of containers is still containerd + runc. When kubelet directly uses containerd, the call chain is simplified to:\n">
<meta property='og:url' content='https://hangops.top/en/ops/docker/containerd%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/'>
<meta property='og:site_name' content='Hang'>
<meta property='og:type' content='article'><meta property='article:section' content='Ops' /><meta property='article:tag' content='Docker' /><meta property='article:tag' content='containerd' /><meta property='article:published_time' content='2025-11-27T02:51:50&#43;00:00'/><meta property='article:modified_time' content='2025-11-27T02:51:50&#43;00:00'/><meta property='og:image' content='https://hangops.top/img/cover/ops_cover.jpg' />
<meta name="twitter:title" content="Containerd Command Line Management Tool">
<meta name="twitter:description" content="Containerd Command Line Management Tool Reasons for Kubernetes to Shift from Docker to containerd Architectural Reasons The process of starting a container by kubelet:\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 kubelet ‚îÇ ‚îÇ (Calls CRI interface) ‚ñº dockershim (K8s-maintained CRI translation layer) ‚îÇ ‚îÇ (Calls Docker Engine API) ‚ñº Docker Engine ‚îÇ ‚îÇ (Calls containerd API) ‚ñº containerd ‚îÇ ‚îÇ (Calls OCI interface) ‚ñº runc (OCI runtime) ‚îÇ ‚îî‚îÄ&gt; Truly create Linux container (namespace, cgroups, rootfs...) Docker Engine is a complete platform (building images, managing network, Volume, Swarm, etc.), which are redundant for K8s. dockershim is only for translating the CRI (K8s language) into Docker API (Docker language). The actual execution of containers is still containerd + runc. When kubelet directly uses containerd, the call chain is simplified to:\n"><meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content='https://hangops.top/img/cover/ops_cover.jpg' />
    <link rel="shortcut icon" href="/img/favicon.ico" />

      <script async src="https://www.googletagmanager.com/gtag/js?id=G-4ZCZRY28LY"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-4ZCZRY28LY');
        }
      </script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/en/">
                
                    
                    
                    
                        
                        <img src="/img/head_portrait_hu_42403be09321586.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">üçå</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/en">Hang</a></h1>
            <h2 class="site-description">If you have any suggestions or questions, feel free to leave a comment or contact me directly</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/en' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-archive"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" /><path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" /><path d="M10 12l4 0" /></svg>
                
                <span>archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-user"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /></svg>
                
                <span>about</span>
            </a>
        </li>
        

        <li class="menu-bottom-section">
            <ol class="menu">
                

                    
                    
                    
                        
                        
                        
                        
                            
                            
                            
                            
                                
                                    
                                
                            

                            <li>
                                <a href="https://hangops.top/ops/docker/containerd%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                                    <span>‰∏≠Êñá</span>
                                </a>
                            </li>
                        
                    
                        
                        
                        
                        
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
        </ol>
</aside>
    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#reasons-for-kubernetes-to-shift-from-docker-to-containerd">Reasons for Kubernetes to Shift from Docker to containerd</a>
      <ol>
        <li><a href="#architectural-reasons">Architectural Reasons</a></li>
        <li><a href="#reducing-maintenance-costs">Reducing Maintenance Costs</a></li>
        <li><a href="#performance-improvement">Performance Improvement</a></li>
      </ol>
    </li>
    <li><a href="#ctr--containerds-built-in-command-line-management-tool">ctr &ndash; Containerd&rsquo;s Built-in Command Line Management Tool</a></li>
    <li><a href="#nerdctl-most-similar-to-docker-cli">nerdctl (Most Similar to docker CLI)</a>
      <ol>
        <li><a href="#installing-nerdctl">Installing nerdctl</a></li>
      </ol>
    </li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="has-image main-article">
    <header class="article-header">
        <div class="article-image">
            <a href="/en/ops/docker/containerd%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">
                
                    <img src="/img/cover/ops_cover.jpg" loading="lazy" alt="Featured image of post Containerd Command Line Management Tool" />
                
            </a>
        </div>
    

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/en/categories/operations-maintenance/" >
                Operations Maintenance
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/en/ops/docker/containerd%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/">Containerd Command Line Management Tool</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published" datetime='2025-11-27T02:51:50Z'>Nov 27, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    3 min read
                </time>
            </div>
        

        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-text"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M9 9l1 0" /><path d="M9 13l6 0" /><path d="M9 17l6 0" /></svg> 
            <time class="article-time--reading">
                451 Words
            </time>
        </div>

        
            <div id="article_views_container" style="display: none">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                <time class="article-time--reading">
                    <span id="article_views">0</span> Views
                </time>
            </div>

            <script>
            (function() {
                const isLocal = ["localhost", "127.0.0.1"].includes(window.location.hostname);
                const API_URL = isLocal 
                    ? "http://localhost:8080/api/article/visit" 
                    : "https://hangops.top/api/article/visit"; 
                
                let path = window.location.pathname;

                
                
                if (path.startsWith('/en/')) {
                    path = path.replace(/^\/en/, '');
                }

                if (path === "/" || path === "" ||
                    path.includes("/page/") || 
                    path.includes("/search/")) {
                    return;
                }

                fetch(API_URL, {
                    method: 'POST', 
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ path: path }) 
                })
                .then(response => response.json()) 
                .then(data => {
                    const container = document.getElementById("article_views_container");
                    const viewEl = document.getElementById("article_views");
                    
                    if (container && viewEl && data.views !== undefined) {
                        viewEl.innerText = data.views;
                        container.style.display = "flex";
                    }
                })
                .catch(err => {
                    console.error("ÈòÖËØªÈáèËé∑ÂèñÂ§±Ë¥•:", err);
                });
            })();
            </script>
        
    </footer>
    

    
        <footer class="article-translations">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



            <div>
                
                    <a href="https://hangops.top/ops/docker/containerd%E5%91%BD%E4%BB%A4%E8%A1%8C%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7/" class="link">‰∏≠Êñá</a>
                
            </div>
        </footer>
    
</div>
</header>

    <section class="article-content">
    
    
    <h1 id="containerd-command-line-management-tool">Containerd Command Line Management Tool
</h1><h2 id="reasons-for-kubernetes-to-shift-from-docker-to-containerd">Reasons for Kubernetes to Shift from Docker to containerd
</h2><h3 id="architectural-reasons">Architectural Reasons
</h3><p>The process of starting a container by kubelet:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">kubelet
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îÇ <span class="o">(</span>Calls CRI interface<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚ñº
</span></span><span class="line"><span class="cl">dockershim <span class="o">(</span>K8s-maintained CRI translation layer<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îÇ <span class="o">(</span>Calls Docker Engine API<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚ñº
</span></span><span class="line"><span class="cl">Docker Engine
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îÇ <span class="o">(</span>Calls containerd API<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚ñº
</span></span><span class="line"><span class="cl">containerd
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îÇ <span class="o">(</span>Calls OCI interface<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚ñº
</span></span><span class="line"><span class="cl">runc <span class="o">(</span>OCI runtime<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îî‚îÄ&gt; Truly create Linux container <span class="o">(</span>namespace, cgroups, rootfs...<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><ul>
<li>Docker Engine is a complete platform (building images, managing network, Volume, Swarm, etc.), which are redundant for K8s.</li>
<li>dockershim is only for translating the CRI (K8s language) into Docker API (Docker language).</li>
<li>The actual execution of containers is still containerd + runc.</li>
</ul>
<p>When kubelet directly uses containerd, the call chain is simplified to:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"> kubelet
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îÇ <span class="o">(</span>Calls CRI interface<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚ñº
</span></span><span class="line"><span class="cl">containerd <span class="o">(</span>Built-in CRI plugin<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îÇ <span class="o">(</span>Calls OCI interface<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚ñº
</span></span><span class="line"><span class="cl">runc <span class="o">(</span>OCI runtime<span class="o">)</span>
</span></span><span class="line"><span class="cl">  ‚îÇ
</span></span><span class="line"><span class="cl">  ‚îî‚îÄ&gt; Truly create Linux container <span class="o">(</span>namespace, cgroups, rootfs...<span class="o">)</span>
</span></span></code></pre></td></tr></table>
</div>
</div><h3 id="reducing-maintenance-costs">Reducing Maintenance Costs
</h3><p>Starting with Kubernetes 1.24, containerd is used as the default container runtime. The intermediate dockershim is no longer maintained.</p>
<h3 id="performance-improvement">Performance Improvement
</h3><p>Fewer layers of calls, better performance and stability.</p>
<h2 id="ctr--containerds-built-in-command-line-management-tool">ctr &ndash; Containerd&rsquo;s Built-in Command Line Management Tool
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># List all namespaces</span>
</span></span><span class="line"><span class="cl">sudo ctr namespaces list
</span></span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="c1"># Image-related commands</span>
</span></span><span class="line"><span class="cl">sudo ctr -n<span class="o">=</span>k8s.io images -h
</span></span></code></pre></td></tr></table>
</div>
</div><p><strong>ctr does not support login authentication for uploading and pulling images; it can only be operated with &ndash;user carrying the user password</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sudo ctr -n<span class="o">=</span>k8s.io images pull <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  --user &lt;username&gt;:&lt;password&gt; <span class="se">\
</span></span></span><span class="line"><span class="cl"><span class="se"></span>  myregistry.example.com/myrepo/nginx:latest
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="nerdctl-most-similar-to-docker-cli">nerdctl (Most Similar to docker CLI)
</h2><p>Basic commands are consistent with docker CLI, with the prefix <code>nerdctl</code> added to the commands.</p>
<h3 id="installing-nerdctl">Installing nerdctl
</h3><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl"><span class="cp">#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="cp"></span><span class="nb">set</span> -e
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">VERSION</span><span class="o">=</span><span class="si">${</span><span class="nv">VERSION</span><span class="k">:-</span><span class="nv">2</span><span class="p">.2.0</span><span class="si">}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Automatically detect architecture</span>
</span></span><span class="line"><span class="cl"><span class="nv">ARCH</span><span class="o">=</span><span class="k">$(</span>uname -m<span class="k">)</span>
</span></span><span class="line"><span class="cl"><span class="k">if</span> <span class="o">[[</span> <span class="s2">&#34;</span><span class="nv">$ARCH</span><span class="s2">&#34;</span> <span class="o">==</span> <span class="s2">&#34;x86_64&#34;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nv">ARCH</span><span class="o">=</span><span class="s2">&#34;amd64&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">elif</span> <span class="o">[[</span> <span class="s2">&#34;</span><span class="nv">$ARCH</span><span class="s2">&#34;</span> <span class="o">==</span> <span class="s2">&#34;aarch64&#34;</span> <span class="o">]]</span><span class="p">;</span> <span class="k">then</span>
</span></span><span class="line"><span class="cl">    <span class="nv">ARCH</span><span class="o">=</span><span class="s2">&#34;arm64&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">else</span>
</span></span><span class="line"><span class="cl">    <span class="nb">echo</span> <span class="s2">&#34;Unsupported architecture: </span><span class="nv">$ARCH</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="nb">exit</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl"><span class="k">fi</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nv">DOWNLOAD_URL</span><span class="o">=</span><span class="s2">&#34;https://github.com/containerd/nerdctl/releases/download/v</span><span class="si">${</span><span class="nv">VERSION</span><span class="si">}</span><span class="s2">/nerdctl-</span><span class="si">${</span><span class="nv">VERSION</span><span class="si">}</span><span class="s2">-linux-</span><span class="si">${</span><span class="nv">ARCH</span><span class="si">}</span><span class="s2">.tar.gz&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Downloading nerdctl v</span><span class="nv">$VERSION</span><span class="s2"> for </span><span class="nv">$ARCH</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl">wget <span class="s2">&#34;</span><span class="nv">$DOWNLOAD_URL</span><span class="s2">&#34;</span> -O nerdctl.tgz
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Extracting...&#34;</span>
</span></span><span class="line"><span class="cl">tar -xzf nerdctl.tgz
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># After extraction, you will get binaries such as nerdctl, containerd, runc, etc.</span>
</span></span><span class="line"><span class="cl"><span class="c1"># Generally, nerdctl is located in the current directory&#39;s nerdctl</span>
</span></span><span class="line"><span class="cl"><span class="nv">TARGET_DIR</span><span class="o">=</span><span class="s2">&#34;/usr/local/bin&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Moving binaries to </span><span class="nv">$TARGET_DIR</span><span class="s2"> (require sudo)&#34;</span>
</span></span><span class="line"><span class="cl">sudo mv nerdctl <span class="s2">&#34;</span><span class="si">${</span><span class="nv">TARGET_DIR</span><span class="si">}</span><span class="s2">/&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Cleaning up‚Ä¶&#34;</span>
</span></span><span class="line"><span class="cl">rm -f nerdctl.tgz
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;üéâ nerdctl installation completed!&#34;</span>
</span></span><span class="line"><span class="cl"><span class="nb">echo</span> <span class="s2">&#34;Version check:&#34;</span>
</span></span><span class="line"><span class="cl">sudo <span class="si">${</span><span class="nv">TARGET_DIR</span><span class="si">}</span>/nerdctl --version
</span></span></code></pre></td></tr></table>
</div>
</div><p>To list local Kubernetes containers:</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">nerdctl --namespace k8s.io ps -a
</span></span></code></pre></td></tr></table>
</div>
</div>
</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/en/tags/docker/">Docker</a>
        
            <a href="/en/tags/containerd/">Containerd</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="has-image">
    <a href="/en/ops/docker/docker-network-issue/">
        
        
            <div class="article-image">
                
                    <img src="/img/cover/ops_cover.jpg" loading="lazy" data-key="" data-hash="/img/cover/ops_cover.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Container network affects host network access troubleshooting</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/en/ops/mysql/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4/">
        
        
            <div class="article-image">
                
                    <img src="/img/cover/ops_cover.jpg" loading="lazy" data-key="" data-hash="/img/cover/ops_cover.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">MySQL Common Commands</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/en/ops/linux/asg-node-disk-issue/">
        
        
            <div class="article-image">
                
                    <img src="/img/cover/ops_cover.jpg" loading="lazy" data-key="" data-hash="/img/cover/ops_cover.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ASG Node data disk mount failed</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/en/ops/linux/vim/">
        
        
            <div class="article-image">
                
                    <img src="/img/cover/ops_cover.jpg" loading="lazy" data-key="" data-hash="/img/cover/ops_cover.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">Vim Tips</h2>
        </div>
    </a>
</article>

            
                
<article class="has-image">
    <a href="/en/ops/ansible/ansible-%E7%BC%93%E5%AD%98ssh%E5%AF%86%E9%92%A5/">
        
        
            <div class="article-image">
                
                    <img src="/img/cover/ops_cover.jpg" loading="lazy" data-key="" data-hash="/img/cover/ops_cover.jpg"/>
                
            </div>
        

        <div class="article-details">
            <h2 class="article-title">ansible | Cache SSH key to avoid password input each time</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src='//unpkg.com/@waline/client@v2/dist/waline.js'></script>
<link href='//unpkg.com/@waline/client@v2/dist/waline.css' rel='stylesheet'/>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
        --waline-font-size: var(--article-font-size);
    }
    .waline-container .wl-count {
        color: var(--card-text-color-main);
    }
</style><script>
    
    Waline.init({"comment":true,"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.4.0/weibo"],"lang":"zh-CN","locale":{"admin":"Admin","placeholder":"Welcome to leave your valuable comments! Please leave the correct email address for email reminder when there is a reply. Do not post any content unrelated to this article.","sofa":"No comments yet. Be the first to comment!"},"reaction":true,"requiredMeta":["name"],"search":false,"serverURL":"https://comment.hangops.top"});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            
                
                    2025
                
            
        
        Hang
    </section>

    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b>Stack</b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> üöÄ
    </section>
    
    <section style="margin-top: 10px; font-size: 12px; opacity: 0.8;">
        
        
        
            
        
            
        
        
        
        <span>Published: <strong>58</strong> Posts</span>
        &nbsp;|&nbsp;
        <span>Total Views: <strong id="footer_total_views">...</strong> views</span>
    </section>

    <section style="margin-top: 10px; font-size: 12px; opacity: 0.8;">
        <span>Uptime: <strong id="footer_uptime">...</strong></span>
        &nbsp;|&nbsp;
        <span>Site Visits: <strong id="footer_total_site_visits">...</strong> views</span>
    </section>
</footer>

<script>
(function() {
    
    const isEn = window.location.pathname.startsWith('/en/');
    
    
    const timeUnits = isEn 
        ? { d: " days ", h: " hrs ", m: " min ", s: " sec" }
        : { d: " Â§© ", h: " Â∞èÊó∂ ", m: " ÂàÜ ", s: " Áßí" };

    function formatUptime(seconds) {
        const days = Math.floor(seconds / 86400);
        seconds %= 86400;
        const hours = Math.floor(seconds / 3600);
        seconds %= 3600;
        const minutes = Math.floor(seconds / 60);
        const secs = seconds % 60;

        return `${days}${timeUnits.d}${hours}${timeUnits.h}${minutes}${timeUnits.m}${secs}${timeUnits.s}`;
    }

    const isLocal = ["localhost", "127.0.0.1"].includes(window.location.hostname);
    const INFO_URL = isLocal 
        ? "http://localhost:8080/api/site/info"
        : "https://hangops.top/api/site/info";

    const VISIT_URL = isLocal 
        ? "http://localhost:8080/api/site/visit"
        : "https://hangops.top/api/site/visit";

    
    fetch(VISIT_URL, { method: 'POST' }).catch(() => {});

    
    fetch(INFO_URL)
    .then(res => res.json())
    .then(data => {
        if(data.total_views !== undefined) {
            document.getElementById("footer_total_views").innerText = data.total_views.toLocaleString();
        }
        if(data.site_total_visits !== undefined) {
            document.getElementById("footer_total_site_visits").innerText = data.site_total_visits.toLocaleString();
        }
        if(data.uptime_seconds !== undefined) {
            let uptime = data.uptime_seconds;
            const uptimeEl = document.getElementById("footer_uptime");
            
            uptimeEl.innerText = formatUptime(uptime);
            setInterval(() => {
                uptime++;
                uptimeEl.innerText = formatUptime(uptime);
            }, 1000);
        }
    })
    .catch(console.error);
})();
</script>

<div id="back-to-top" class="back-to-top" aria-label="ÂõûÂà∞È°∂ÈÉ®">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 5l0 14"></path>
        <path d="M18 11l-6 -6"></path>
        <path d="M6 11l6 -6"></path>
    </svg>
</div>

<style>
    .back-to-top {
        position: fixed;
        bottom: 50px;
        right: 100px;
        width: 50px;
        height: 50px;
        background-color: var(--card-background);  
        color: var(--card-text-color-main);        
        box-shadow: var(--shadow-l1);              
        border-radius: 50%;                        
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0;                                
        visibility: hidden;
        transform: translateY(20px);               
        transition: all 0.3s ease;                 
        z-index: 999;
    }

    .back-to-top.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .back-to-top:hover {
        background-color: var(--primary);          
        color: #fff;
        transform: translateY(-3px);               
        box-shadow: var(--shadow-l2);
    }

     
    @media (max-width: 768px) {
        .back-to-top {
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
        }
    }
</style>

<script>
(function() {
    const backToTopBtn = document.getElementById('back-to-top');
    
    
    window.addEventListener('scroll', () => {
        
        if (window.scrollY > 300) {
            backToTopBtn.classList.add('show');
        } else {
            backToTopBtn.classList.remove('show');
        }
    });

    
    backToTopBtn.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
})();
</script>

    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.c922af694cc257bf1ecc41c0dd7b0430f9114ec280ccf67cd2c6ad55f5316c4e.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
