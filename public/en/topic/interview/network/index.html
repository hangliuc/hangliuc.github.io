<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset='utf-8'>
<meta name='viewport' content='width=device-width, initial-scale=1'><meta name='description' content="1. OSI Seven-Layer Model 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 å‘é€ç«¯ï¼ˆç”µè„‘Aï¼‰ æ¥æ”¶ç«¯ï¼ˆç”µè„‘Bï¼‰ +----------------+ +----------------+ | åº”ç”¨å±‚ï¼šData | | åº”ç”¨å±‚ï¼šData | | &#34;Hi&#34; | | &#34;Hi&#34; | +-------+--------+ +-------^--------+ | | | è¡¨ç¤ºå±‚ï¼šData + è¡¨ç¤ºå¤´ è¡¨ç¤ºå±‚ï¼šDataï¼ˆå‰¥ç¦»è¡¨ç¤ºå¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ä¼šè¯å±‚ï¼šData + ä¼šè¯å¤´ ä¼šè¯å±‚ï¼šDataï¼ˆå‰¥ç¦»ä¼šè¯å¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ä¼ è¾“å±‚ï¼šSegmentï¼ˆData + ç«¯å£å¤´ï¼‰ ä¼ è¾“å±‚ï¼šDataï¼ˆå‰¥ç¦»ç«¯å£å¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ç½‘ç»œå±‚ï¼šPacketï¼ˆSegment + IPå¤´ï¼‰ ç½‘ç»œå±‚ï¼šSegmentï¼ˆå‰¥ç¦»IPå¤´ï¼‰ +-------+--------+ +-------^--------+ | | | æ•°æ®é“¾è·¯å±‚ï¼šFrameï¼ˆPacket + MACå¤´ + CRCï¼‰æ•°æ®é“¾è·¯å±‚ï¼šPacketï¼ˆå‰¥ç¦»MACå¤´+CRCï¼‰ +-------+--------+ +-------^--------+ | | | ç‰©ç†å±‚ï¼šBitsï¼ˆFrameè½¬æ¢ï¼‰ ç‰©ç†å±‚ï¼šFrameï¼ˆBitsè½¬æ¢ï¼‰ +-------+--------+ +-------^--------+ | | +---------------------------------------+ ç‰©ç†ä»‹è´¨ï¼ˆç½‘çº¿/æ— çº¿ï¼‰ OSI Layer Core Function Key Devices/Components Application Layer Provides communication between applications Browsers, FTP clients, SMTP clients Presentation Layer Data representation and transformation Encryption, compression Session Layer Manages session connections Session ID Transport Layer End-to-end communication TCP, UDP Network Layer Routing across networks and IP address recognition Routers, switches Data Link Layer Frame transmission and MAC address recognition Network cards, switches Physical Layer Bitstream transmission Wires, fiber optics 2. Differences between HTTP/1.1 and HTTP/2 Feature HTTP/1.1 HTTP/2 Transmission Overhead Text-based transmission, higher overhead Binary stream transmission, lower overhead Multiplexing Sequential loading of resources, one resource blockage affects subsequent resources Multiple data streams can be sent simultaneously over a single TCP connection, without blocking each other Server Push Not supported Supported, the server can push content before the client requests it Header Compression Not compressed or simple compression, redundant information Uses HPACK compression, reduces redundancy, improves loading speed 3. TCP Connection States ">
<title>SRE Interview Questions Summary | Network</title>

<link rel='canonical' href='http://localhost:1313/en/topic/interview/network/'>

<link rel="stylesheet" href="/scss/style.min.68d8662d637d4bfd58a141486b21f6b2bd0dd249db2c3513557731573f7ca445.css"><meta property='og:title' content="SRE Interview Questions Summary | Network">
<meta property='og:description' content="1. OSI Seven-Layer Model 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 å‘é€ç«¯ï¼ˆç”µè„‘Aï¼‰ æ¥æ”¶ç«¯ï¼ˆç”µè„‘Bï¼‰ +----------------+ +----------------+ | åº”ç”¨å±‚ï¼šData | | åº”ç”¨å±‚ï¼šData | | &#34;Hi&#34; | | &#34;Hi&#34; | +-------+--------+ +-------^--------+ | | | è¡¨ç¤ºå±‚ï¼šData + è¡¨ç¤ºå¤´ è¡¨ç¤ºå±‚ï¼šDataï¼ˆå‰¥ç¦»è¡¨ç¤ºå¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ä¼šè¯å±‚ï¼šData + ä¼šè¯å¤´ ä¼šè¯å±‚ï¼šDataï¼ˆå‰¥ç¦»ä¼šè¯å¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ä¼ è¾“å±‚ï¼šSegmentï¼ˆData + ç«¯å£å¤´ï¼‰ ä¼ è¾“å±‚ï¼šDataï¼ˆå‰¥ç¦»ç«¯å£å¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ç½‘ç»œå±‚ï¼šPacketï¼ˆSegment + IPå¤´ï¼‰ ç½‘ç»œå±‚ï¼šSegmentï¼ˆå‰¥ç¦»IPå¤´ï¼‰ +-------+--------+ +-------^--------+ | | | æ•°æ®é“¾è·¯å±‚ï¼šFrameï¼ˆPacket + MACå¤´ + CRCï¼‰æ•°æ®é“¾è·¯å±‚ï¼šPacketï¼ˆå‰¥ç¦»MACå¤´+CRCï¼‰ +-------+--------+ +-------^--------+ | | | ç‰©ç†å±‚ï¼šBitsï¼ˆFrameè½¬æ¢ï¼‰ ç‰©ç†å±‚ï¼šFrameï¼ˆBitsè½¬æ¢ï¼‰ +-------+--------+ +-------^--------+ | | +---------------------------------------+ ç‰©ç†ä»‹è´¨ï¼ˆç½‘çº¿/æ— çº¿ï¼‰ OSI Layer Core Function Key Devices/Components Application Layer Provides communication between applications Browsers, FTP clients, SMTP clients Presentation Layer Data representation and transformation Encryption, compression Session Layer Manages session connections Session ID Transport Layer End-to-end communication TCP, UDP Network Layer Routing across networks and IP address recognition Routers, switches Data Link Layer Frame transmission and MAC address recognition Network cards, switches Physical Layer Bitstream transmission Wires, fiber optics 2. Differences between HTTP/1.1 and HTTP/2 Feature HTTP/1.1 HTTP/2 Transmission Overhead Text-based transmission, higher overhead Binary stream transmission, lower overhead Multiplexing Sequential loading of resources, one resource blockage affects subsequent resources Multiple data streams can be sent simultaneously over a single TCP connection, without blocking each other Server Push Not supported Supported, the server can push content before the client requests it Header Compression Not compressed or simple compression, redundant information Uses HPACK compression, reduces redundancy, improves loading speed 3. TCP Connection States ">
<meta property='og:url' content='http://localhost:1313/en/topic/interview/network/'>
<meta property='og:site_name' content='Hang'>
<meta property='og:type' content='article'><meta property='article:section' content='Topic' /><meta property='article:tag' content='network' /><meta property='article:published_time' content='2025-12-04T11:36:01&#43;00:00'/><meta property='article:modified_time' content='2025-12-04T11:36:01&#43;00:00'/>
<meta name="twitter:title" content="SRE Interview Questions Summary | Network">
<meta name="twitter:description" content="1. OSI Seven-Layer Model 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 å‘é€ç«¯ï¼ˆç”µè„‘Aï¼‰ æ¥æ”¶ç«¯ï¼ˆç”µè„‘Bï¼‰ +----------------+ +----------------+ | åº”ç”¨å±‚ï¼šData | | åº”ç”¨å±‚ï¼šData | | &#34;Hi&#34; | | &#34;Hi&#34; | +-------+--------+ +-------^--------+ | | | è¡¨ç¤ºå±‚ï¼šData + è¡¨ç¤ºå¤´ è¡¨ç¤ºå±‚ï¼šDataï¼ˆå‰¥ç¦»è¡¨ç¤ºå¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ä¼šè¯å±‚ï¼šData + ä¼šè¯å¤´ ä¼šè¯å±‚ï¼šDataï¼ˆå‰¥ç¦»ä¼šè¯å¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ä¼ è¾“å±‚ï¼šSegmentï¼ˆData + ç«¯å£å¤´ï¼‰ ä¼ è¾“å±‚ï¼šDataï¼ˆå‰¥ç¦»ç«¯å£å¤´ï¼‰ +-------+--------+ +-------^--------+ | | | ç½‘ç»œå±‚ï¼šPacketï¼ˆSegment + IPå¤´ï¼‰ ç½‘ç»œå±‚ï¼šSegmentï¼ˆå‰¥ç¦»IPå¤´ï¼‰ +-------+--------+ +-------^--------+ | | | æ•°æ®é“¾è·¯å±‚ï¼šFrameï¼ˆPacket + MACå¤´ + CRCï¼‰æ•°æ®é“¾è·¯å±‚ï¼šPacketï¼ˆå‰¥ç¦»MACå¤´+CRCï¼‰ +-------+--------+ +-------^--------+ | | | ç‰©ç†å±‚ï¼šBitsï¼ˆFrameè½¬æ¢ï¼‰ ç‰©ç†å±‚ï¼šFrameï¼ˆBitsè½¬æ¢ï¼‰ +-------+--------+ +-------^--------+ | | +---------------------------------------+ ç‰©ç†ä»‹è´¨ï¼ˆç½‘çº¿/æ— çº¿ï¼‰ OSI Layer Core Function Key Devices/Components Application Layer Provides communication between applications Browsers, FTP clients, SMTP clients Presentation Layer Data representation and transformation Encryption, compression Session Layer Manages session connections Session ID Transport Layer End-to-end communication TCP, UDP Network Layer Routing across networks and IP address recognition Routers, switches Data Link Layer Frame transmission and MAC address recognition Network cards, switches Physical Layer Bitstream transmission Wires, fiber optics 2. Differences between HTTP/1.1 and HTTP/2 Feature HTTP/1.1 HTTP/2 Transmission Overhead Text-based transmission, higher overhead Binary stream transmission, lower overhead Multiplexing Sequential loading of resources, one resource blockage affects subsequent resources Multiple data streams can be sent simultaneously over a single TCP connection, without blocking each other Server Push Not supported Supported, the server can push content before the client requests it Header Compression Not compressed or simple compression, redundant information Uses HPACK compression, reduces redundancy, improves loading speed 3. TCP Connection States ">
    <link rel="shortcut icon" href="/img/favicon.ico" />

      <script async src="https://www.googletagmanager.com/gtag/js?id=G-4ZCZRY28LY"></script>
      <script>
        var doNotTrack = false;
        if ( false ) {
          var dnt = (navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack);
          var doNotTrack = (dnt == "1" || dnt == "yes");
        }
        if (!doNotTrack) {
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'G-4ZCZRY28LY');
        }
      </script>
    </head>
    <body class="
    article-page
    ">
    <script>
        (function() {
            const colorSchemeKey = 'StackColorScheme';
            if(!localStorage.getItem(colorSchemeKey)){
                localStorage.setItem(colorSchemeKey, "auto");
            }
        })();
    </script><script>
    (function() {
        const colorSchemeKey = 'StackColorScheme';
        const colorSchemeItem = localStorage.getItem(colorSchemeKey);
        const supportDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches === true;

        if (colorSchemeItem == 'dark' || colorSchemeItem === 'auto' && supportDarkMode) {
            

            document.documentElement.dataset.scheme = 'dark';
        } else {
            document.documentElement.dataset.scheme = 'light';
        }
    })();
</script>
<div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky ">
    <button class="hamburger hamburger--spin" type="button" id="toggle-menu" aria-label="Toggle Menu">
        <span class="hamburger-box">
            <span class="hamburger-inner"></span>
        </span>
    </button>

    <header>
        
            
            <figure class="site-avatar">
                <a href="/en/">
                
                    
                    
                    
                        
                        <img src="/img/head_portrait_hu_42403be09321586.jpg" width="300"
                            height="300" class="site-logo" loading="lazy" alt="Avatar">
                    
                
                </a>
                
                    <span class="emoji">ğŸŒ</span>
                
            </figure>
            
        
        
        <div class="site-meta">
            <h1 class="site-name"><a href="/en">Hang</a></h1>
            <h2 class="site-description">If you have any suggestions or questions, feel free to leave a comment or contact me directly</h2>
        </div>
    </header><ol class="menu" id="main-menu">
        
        
        
        <li >
            <a href='/en' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <polyline points="5 12 3 12 12 3 21 12 19 12" />
  <path d="M5 12v7a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-7" />
  <path d="M9 21v-6a2 2 0 0 1 2 -2h2a2 2 0 0 1 2 2v6" />
</svg>



                
                <span>home</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/archives/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-archive"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M3 4m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v0a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z" /><path d="M5 8v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2 -2v-10" /><path d="M10 12l4 0" /></svg>
                
                <span>archives</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/search/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="10" cy="10" r="7" />
  <line x1="21" y1="21" x2="15" y2="15" />
</svg>



                
                <span>search</span>
            </a>
        </li>
        
        
        <li >
            <a href='/en/about/' >
                
                
                
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-user"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 7a4 4 0 1 0 8 0a4 4 0 0 0 -8 0" /><path d="M6 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2" /></svg>
                
                <span>about</span>
            </a>
        </li>
        
        <li class="menu-bottom-section">
            <ol class="menu">
                    
                        <li id="i18n-switch">  
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



                            <select name="language" title="language" onchange="window.location.href = this.selectedOptions[0].value">
                                
                                    <option value="http://localhost:1313/" >ä¸­æ–‡</option>
                                
                                    <option value="http://localhost:1313/en/" selected>English</option>
                                
                            </select>
                        </li>
                    
                

                
                    <li id="dark-mode-toggle">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="8" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="16" cy="12" r="2" />
  <rect x="2" y="6" width="20" height="12" rx="6" />
</svg>



                        <span>Dark Mode</span>
                    </li>
                
            </ol>
        </li>
    </ol>
</aside>

    <aside class="sidebar right-sidebar sticky">
        
            
                
    <section class="widget archives">
        <div class="widget-icon">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <line x1="5" y1="9" x2="19" y2="9" />
  <line x1="5" y1="15" x2="19" y2="15" />
  <line x1="11" y1="4" x2="7" y2="20" />
  <line x1="17" y1="4" x2="13" y2="20" />
</svg>



        </div>
        <h2 class="widget-title section-title">Table of contents</h2>
        
        <div class="widget--toc">
            <nav id="TableOfContents">
  <ol>
    <li><a href="#1-osi-seven-layer-model">1. OSI Seven-Layer Model</a></li>
    <li><a href="#2-differences-between-http11-and-http2">2. Differences between HTTP/1.1 and HTTP/2</a></li>
    <li><a href="#3-tcp-connection-states">3. TCP Connection States</a></li>
    <li><a href="#4-why-tcp-is-three-way-handshake">4. Why TCP is Three-Way Handshake</a>
      <ol>
        <li><a href="#why-not-2-way-handshake">Why Not 2-Way Handshake</a></li>
        <li><a href="#why-not-4-times-or-more">Why Not 4 Times or More?</a></li>
      </ol>
    </li>
    <li><a href="#5-dns-resolution-process">5. DNS Resolution Process</a></li>
    <li><a href="#6-cookie-session-token">6. Cookie, Session, Token</a></li>
    <li><a href="#7-http-status-codes-and-reasons">7. HTTP Status Codes and Reasons</a></li>
    <li><a href="#8-linux-network-packet-loss-troubleshooting">8. Linux Network Packet Loss Troubleshooting</a></li>
    <li><a href="#9-long-connections-short-connections-websocket-differences-and-use-cases">9. Long Connections, Short Connections, WebSocket Differences and Use Cases</a></li>
    <li><a href="#10-how-mac-address-and-ip-address-are-converted">10. How MAC Address and IP Address are Converted</a></li>
    <li><a href="#11-differences-and-use-cases-of-lvs-nginx-and-haproxy">11. Differences and Use Cases of LVS, Nginx, and HAProxy</a></li>
  </ol>
</nav>
        </div>
    </section>

            
        
    </aside>


            <main class="main full-width">
    <article class="main-article">
    <header class="article-header">

    <div class="article-details">
    
    <header class="article-category">
        
            <a href="/en/categories/interview/" >
                Interview
            </a>
        
    </header>
    

    <div class="article-title-wrapper">
        <h2 class="article-title">
            <a href="/en/topic/interview/network/">SRE Interview Questions Summary | Network</a>
        </h2>
    
        
    </div>

    
    
    
    
    <footer class="article-time">
        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" />
  <circle cx="18" cy="18" r="4" />
  <path d="M15 3v4" />
  <path d="M7 3v4" />
  <path d="M3 11h16" />
  <path d="M18 16.496v1.504l1 1" />
</svg>
                <time class="article-time--published" datetime='2025-12-04T11:36:01Z'>Dec 04, 2025</time>
            </div>
        

        
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <polyline points="12 7 12 12 15 15" />
</svg>



                <time class="article-time--reading">
                    4 minute read
                </time>
            </div>
        

        <div>
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-text"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M9 9l1 0" /><path d="M9 13l6 0" /><path d="M9 17l6 0" /></svg> 
            <time class="article-time--reading">
                1705 
            </time>
        </div>
        
            <div id="article_views_container" style="display: none">
                
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-eye"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" /><path d="M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6" /></svg>
                
                <time class="article-time--reading">
                    <span id="article_views">0</span> 
                </time>
            </div>

            <script>
            (function() {
                const isLocal = ["localhost", "127.0.0.1"].includes(window.location.hostname);
        
                
                const API_URL = isLocal 
                    ? "http://localhost:8080/api/article/visit" 
                    : "https://hangops.top/api/article/visit"; 
                
                const path = window.location.pathname;
                if (path.startsWith('/en/')) {
                    path = path.replace(/^\/en/, '');
                }
                
                if (path === "/" || 
                    path.includes("/page/") || 
                    path.includes("/search/")) {
                    return;
                }

                fetch(API_URL, {
                    method: 'POST', 
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ path: path }) 
                })
                .then(response => response.json()) 
                .then(data => {
                    const container = document.getElementById("article_views_container");
                    const viewEl = document.getElementById("article_views");
                    
                    if (container && viewEl && data.views) {
                        viewEl.innerText = data.views;
                        
                        container.style.display = "flex";
                    }
                })
                .catch(err => {
                    console.error("é˜…è¯»é‡è·å–å¤±è´¥:", err);
                });
            })();
            </script>
        
    </footer>
    

    
        <footer class="article-translations">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
  <path d="M4 5h7" />
  <path d="M9 3v2c0 4.418 -2.239 8 -5 8" />
  <path d="M5 9c-.003 2.144 2.952 3.908 6.7 4" />
  <path d="M12 20l4 -9l4 9" />
  <path d="M19.1 18h-6.2" />
</svg>



            <div>
                
                    <a href="http://localhost:1313/topic/interview/network/" class="link">ä¸­æ–‡</a>
                
            </div>
        </footer>
    
</div>

</header>

    <section class="article-content">
    
    
    <h2 id="1-osi-seven-layer-model">1. OSI Seven-Layer Model
</h2><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback"><span class="line"><span class="cl">å‘é€ç«¯ï¼ˆç”µè„‘Aï¼‰                          æ¥æ”¶ç«¯ï¼ˆç”µè„‘Bï¼‰
</span></span><span class="line"><span class="cl">+----------------+                      +----------------+
</span></span><span class="line"><span class="cl">| åº”ç”¨å±‚ï¼šData   |                      | åº”ç”¨å±‚ï¼šData   |
</span></span><span class="line"><span class="cl">|  &#34;Hi&#34;          |                      |  &#34;Hi&#34;          |
</span></span><span class="line"><span class="cl">+-------+--------+                      +-------^--------+
</span></span><span class="line"><span class="cl">        |                                       |
</span></span><span class="line"><span class="cl">| è¡¨ç¤ºå±‚ï¼šData + è¡¨ç¤ºå¤´                    è¡¨ç¤ºå±‚ï¼šDataï¼ˆå‰¥ç¦»è¡¨ç¤ºå¤´ï¼‰
</span></span><span class="line"><span class="cl">+-------+--------+                      +-------^--------+
</span></span><span class="line"><span class="cl">        |                                       |
</span></span><span class="line"><span class="cl">| ä¼šè¯å±‚ï¼šData + ä¼šè¯å¤´                    ä¼šè¯å±‚ï¼šDataï¼ˆå‰¥ç¦»ä¼šè¯å¤´ï¼‰
</span></span><span class="line"><span class="cl">+-------+--------+                      +-------^--------+
</span></span><span class="line"><span class="cl">        |                                       |
</span></span><span class="line"><span class="cl">| ä¼ è¾“å±‚ï¼šSegmentï¼ˆData + ç«¯å£å¤´ï¼‰        ä¼ è¾“å±‚ï¼šDataï¼ˆå‰¥ç¦»ç«¯å£å¤´ï¼‰
</span></span><span class="line"><span class="cl">+-------+--------+                      +-------^--------+
</span></span><span class="line"><span class="cl">        |                                       |
</span></span><span class="line"><span class="cl">| ç½‘ç»œå±‚ï¼šPacketï¼ˆSegment + IPå¤´ï¼‰       ç½‘ç»œå±‚ï¼šSegmentï¼ˆå‰¥ç¦»IPå¤´ï¼‰
</span></span><span class="line"><span class="cl">+-------+--------+                      +-------^--------+
</span></span><span class="line"><span class="cl">        |                                       |
</span></span><span class="line"><span class="cl">| æ•°æ®é“¾è·¯å±‚ï¼šFrameï¼ˆPacket + MACå¤´ + CRCï¼‰æ•°æ®é“¾è·¯å±‚ï¼šPacketï¼ˆå‰¥ç¦»MACå¤´+CRCï¼‰
</span></span><span class="line"><span class="cl">+-------+--------+                      +-------^--------+
</span></span><span class="line"><span class="cl">        |                                       |
</span></span><span class="line"><span class="cl">| ç‰©ç†å±‚ï¼šBitsï¼ˆFrameè½¬æ¢ï¼‰               ç‰©ç†å±‚ï¼šFrameï¼ˆBitsè½¬æ¢ï¼‰
</span></span><span class="line"><span class="cl">+-------+--------+                      +-------^--------+
</span></span><span class="line"><span class="cl">        |                                       |
</span></span><span class="line"><span class="cl">        +---------------------------------------+
</span></span><span class="line"><span class="cl">               ç‰©ç†ä»‹è´¨ï¼ˆç½‘çº¿/æ— çº¿ï¼‰
</span></span></code></pre></td></tr></table>
</div>
</div><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>OSI Layer</th>
          <th>Core Function</th>
          <th>Key Devices/Components</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Application Layer</td>
          <td>Provides communication between applications</td>
          <td>Browsers, FTP clients, SMTP clients</td>
      </tr>
      <tr>
          <td>Presentation Layer</td>
          <td>Data representation and transformation</td>
          <td>Encryption, compression</td>
      </tr>
      <tr>
          <td>Session Layer</td>
          <td>Manages session connections</td>
          <td>Session ID</td>
      </tr>
      <tr>
          <td>Transport Layer</td>
          <td>End-to-end communication</td>
          <td>TCP, UDP</td>
      </tr>
      <tr>
          <td>Network Layer</td>
          <td>Routing across networks and IP address recognition</td>
          <td>Routers, switches</td>
      </tr>
      <tr>
          <td>Data Link Layer</td>
          <td>Frame transmission and MAC address recognition</td>
          <td>Network cards, switches</td>
      </tr>
      <tr>
          <td>Physical Layer</td>
          <td>Bitstream transmission</td>
          <td>Wires, fiber optics</td>
      </tr>
  </tbody>
</table></div>
<h2 id="2-differences-between-http11-and-http2">2. Differences between HTTP/1.1 and HTTP/2
</h2><div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>Feature</th>
          <th>HTTP/1.1</th>
          <th>HTTP/2</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Transmission Overhead</td>
          <td>Text-based transmission, higher overhead</td>
          <td>Binary stream transmission, lower overhead</td>
      </tr>
      <tr>
          <td>Multiplexing</td>
          <td>Sequential loading of resources, one resource blockage affects subsequent resources</td>
          <td>Multiple data streams can be sent simultaneously over a single TCP connection, without blocking each other</td>
      </tr>
      <tr>
          <td>Server Push</td>
          <td>Not supported</td>
          <td>Supported, the server can push content before the client requests it</td>
      </tr>
      <tr>
          <td>Header Compression</td>
          <td>Not compressed or simple compression, redundant information</td>
          <td>Uses HPACK compression, reduces redundancy, improves loading speed</td>
      </tr>
  </tbody>
</table></div>
<h2 id="3-tcp-connection-states">3. TCP Connection States
</h2><p><img src="/img/interview/tcp_netstat.png"
	
	
	
	loading="lazy"
	
		alt="alt text"
	
	
></p>
<h2 id="4-why-tcp-is-three-way-handshake">4. Why TCP is Three-Way Handshake
</h2><p>Because three-way handshake is necessary to ensure that both parties have the ability to receive and send.</p>
<h3 id="why-not-2-way-handshake">Why Not 2-Way Handshake
</h3><p>Suppose we need two handshakes:</p>
<ol>
<li>Client sends SYN</li>
<li>Server returns ACK</li>
</ol>
<ul>
<li>If there is a delay or packet loss in the network, an old SYN packet may remain in the network.</li>
<li>The server receives the lingering SYN and mistakenly believes that the client wants to establish a new connection, and returns an ACK.</li>
<li>The client receives the ACK and mistakenly believes that the connection has been established, and continues to send data.</li>
<li>The server receives the data and mistakenly believes it to be traffic from a new connection, and handles it incorrectly.</li>
</ul>
<h3 id="why-not-4-times-or-more">Why Not 4 Times or More?
</h3><p>Three handshakes are sufficient to establish a connection; four or more handshakes would increase complexity and waste resources.</p>
<h2 id="5-dns-resolution-process">5. DNS Resolution Process
</h2><ul>
<li>Local host mapping (highest priority, returns directly if there is a record)</li>
<li>Client cache (browser cache, IOS cache)</li>
<li>DNS Resolver (/etc/resolv.conf specifies the system query DNS server, usually the local router or operator DNS)</li>
<li>DNS Iterative Query Process (root domain server -&gt; top-level domain server -&gt; authoritative domain server (e.g., route 53))</li>
<li>Returns to the client</li>
</ul>
<h2 id="6-cookie-session-token">6. Cookie, Session, Token
</h2><ul>
<li>Different storage locations
<ul>
<li>Cookie, Token are stored on the client side, while Session is stored on the server side</li>
</ul>
</li>
<li>Different data security
<ul>
<li>Cookie is stored on the client side and is easily stolen, not secure</li>
<li>Session is stored on the server side and is associated with different users&rsquo; sessions through a Session ID between the client and server, which can avoid exposing sensitive data directly</li>
<li>Token is usually generated using an encryption algorithm, has a short expiration time, and is one-way and irreversible, which can provide higher security.</li>
</ul>
</li>
<li>Different cross-domain support
Cookie and Session do not support cross-domain transmission, but Token can easily implement cross-domain. Because Token is stored in the client&rsquo;s localStorage or sent as part of the request header to the server, the Token information transmission between different domains is usually not affected.</li>
<li>Different state management
<ul>
<li>Cookie is stored on the client side and can be directly manipulated by the client for state management.</li>
<li>Session is stored on the server side, and the server identifies different user sessions through Session ID.</li>
<li>Token is generated on the client side and needs to be carried by the client in each request for identity verification.</li>
</ul>
</li>
<li>Different application scenarios
<ul>
<li>Cookie is usually used to store user login status, remember user preferences, and maintain login status.</li>
<li>Session is suitable for scenarios where user state needs to be stored on the server side, such as shopping carts, form submissions, etc., that need to track user states.</li>
<li>Token is suitable for scenarios where identity verification needs to be performed between the client and server, such as API access control, single sign-on (SSO), mobile application authentication, etc.</li>
</ul>
</li>
</ul>
<h2 id="7-http-status-codes-and-reasons">7. HTTP Status Codes and Reasons
</h2><p>Some frequently examined status codes</p>
<ul>
<li>
<p>301 Moved Permanently: The requested resource has been permanently moved to a new location. Often used for domain switching.</p>
</li>
<li>
<p>302 Found: Temporarily redirected, the requested resource is temporarily moved to a new location. (Browsers often use it for login redirection).</p>
</li>
<li>
<p>403 Forbidden: Insufficient permissions, or has a Token but no permissions.</p>
</li>
<li>
<p>404 Not Found: The requested resource does not exist.</p>
</li>
<li>
<p>502 Bad Gateway: The upstream service (Nginx â†’ Application) returns an invalid response.</p>
</li>
<li>
<p>504 Gateway Timeout: The upstream service response is too slow (Nginx â†’ Backend timeout).</p>
</li>
</ul>
<h2 id="8-linux-network-packet-loss-troubleshooting">8. Linux Network Packet Loss Troubleshooting
</h2><p>Troubleshooting Chain:
Application â†’ System â†’ Network Stack â†’ Network Card â†’ Cloud Side â†’ External Link</p>
<ol>
<li>
<p>Application Layer Packet Loss</p>
<ul>
<li>Check application logs for exceptions or error information. (Timeouts, link failures, interface qps spikes)</li>
<li>Simulate client curl/wget to directly test</li>
<li>Use tcpdump to capture packets: sudo tcpdump -i eth0 host <peer-ip> -w app.pcap</li>
</ul>
</li>
<li>
<p>System Layer Packet Loss</p>
<ul>
<li>
<p>Check network card statistics: ethtool -S eth0</p>
<div class="table-wrapper"><table>
  <thead>
      <tr>
          <th>Metric</th>
          <th>Meaning</th>
          <th>Notes</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>rx_dropped</code></td>
          <td>Receive dropped packets</td>
          <td>NIC or kernel queue full</td>
      </tr>
      <tr>
          <td><code>rx_errors</code></td>
          <td>Receive errors</td>
          <td>CRC, frame errors</td>
      </tr>
      <tr>
          <td><code>tx_errors</code></td>
          <td>Transmission errors</td>
          <td>Not sent out</td>
      </tr>
      <tr>
          <td><code>rx_no_buffer</code></td>
          <td>Ring buffer insufficient</td>
          <td>High pressure common</td>
      </tr>
      <tr>
          <td><code>rx_over_errors</code></td>
          <td>Receive queue overflow</td>
          <td>System bottleneck</td>
      </tr>
  </tbody>
</table></div>
</li>
<li>
<p>Check Linux network stack layer packet loss: netstat -s</p>
</li>
<li>
<p>Check kernel parameters</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">sysctl net.core.rmem_default
</span></span><span class="line"><span class="cl">sysctl net.core.wmem_default
</span></span><span class="line"><span class="cl">sysctl net.core.netdev_max_backlog
</span></span><span class="line"><span class="cl">sysctl net.ipv4.tcp_rmem
</span></span><span class="line"><span class="cl">sysctl net.ipv4.tcp_wmem
</span></span></code></pre></td></tr></table>
</div>
</div></li>
</ul>
</li>
<li>
<p>Network Card Queue (Ring buffer) Packet Loss ethtool -g eth0</p>
</li>
<li>
<p>CPU/Interrupt</p>
<ul>
<li>Check the network card configuration parameters to ensure that there are no settings that cause packet loss.</li>
<li>Use tools like <code>ethtool</code> to view the network card&rsquo;s statistical information to confirm if there is any packet loss.</li>
</ul>
</li>
<li>
<p>Network Path Packet Loss (Common in cloud side)
mtr -rwzbc 100 <target-ip></p>
</li>
<li>
<p>Target End Packet Loss (Opposite entry is full)</p>
</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-shell" data-lang="shell"><span class="line"><span class="cl">Local machine
</span></span><span class="line"><span class="cl">tcpdump -i eth0 host &lt;peer&gt; -w local.pcap
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Remote end
</span></span><span class="line"><span class="cl">tcpdump -i eth0 host &lt;your-ip&gt; -w remote.pcap
</span></span></code></pre></td></tr></table>
</div>
</div><h2 id="9-long-connections-short-connections-websocket-differences-and-use-cases">9. Long Connections, Short Connections, WebSocket Differences and Use Cases
</h2><p>Short Connections
The connection between the client and server is closed immediately after each request is completed. This is the default behavior in HTTP/1.0.</p>
<ul>
<li>For one-time requests, such as retrieving static resources (HTML, CSS, images, etc.).</li>
<li>For applications that do not require frequent interaction, short connections are simple and easy to use.</li>
</ul>
<p>Long Connections
Refers to a TCP connection in which multiple requests and responses can be made and received without the need to frequently establish and close connections. This is the default behavior in HTTP/1.1.</p>
<ul>
<li>For applications that require frequent interaction, such as online chat, real-time data streams (mysql, redis, etc.).</li>
<li>Suitable for scenarios that need to maintain sessions, such as shopping cart operations on e-commerce websites.</li>
</ul>
<p>WebSocket
A protocol that allows full-duplex communication over a single TCP connection, allowing the server to send data to the client actively. Supports two-way communication.</p>
<ul>
<li>For real-time applications, such as online games, stock market quotes, social media instant messages, etc.</li>
<li>Suitable for applications that require immediate feedback, such as collaborative editing tools, online customer service, etc.</li>
<li>For real-time communication between IoT (Internet of Things) devices.</li>
</ul>
<h2 id="10-how-mac-address-and-ip-address-are-converted">10. How MAC Address and IP Address are Converted
</h2><p>ARP is used to find the MAC address through IP address and store the corresponding relationship in the ARP cache table.</p>
<p>Second-layer devices, send data frames</p>
<ol>
<li>The source host first sends a broadcast frame, carrying its IP address and MAC address, and also carrying the IP address to be searched.</li>
<li>Other hosts receive it and if they find that the IP address is their own, they need to return their IP address and MAC address, unicast to the source host, and record the corresponding relationship in their own high-speed cache table.</li>
<li>The source host receives it and records it in the high-speed cache table after receiving it.</li>
</ol>
<h2 id="11-differences-and-use-cases-of-lvs-nginx-and-haproxy">11. Differences and Use Cases of LVS, Nginx, and HAProxy
</h2><ul>
<li>LVS is a load balancer based on the IP layer, working at layer 4 (Transport Layer) of the OSI model, and is mainly used for load balancing TCP and UDP traffic.</li>
<li>Nginx is a high-performance web server and reverse proxy server that can also be used as a load balancer. It works at layer 7 (Application Layer) of the OSI model and is mainly used for processing HTTP and HTTPS requests.</li>
<li>HAProxy is an open-source load balancer that works at layer 7 (Application Layer) of the OSI model and is mainly used for load balancing HTTP and HTTPS requests.</li>
</ul>

</section>


    <footer class="article-footer">
    
    <section class="article-tags">
        
            <a href="/en/tags/network/">Network</a>
        
    </section>


    
    <section class="article-copyright">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <path stroke="none" d="M0 0h24v24H0z"/>
  <circle cx="12" cy="12" r="9" />
  <path d="M14.5 9a3.5 4 0 1 0 0 6" />
</svg>



        <span>Licensed under CC BY-NC-SA 4.0</span>
    </section>
    </footer>


    
</article>

    

    

<aside class="related-content--wrapper">
    <h2 class="section-title">Related content</h2>
    <div class="related-content">
        <div class="flex article-list--tile">
            
                
<article class="">
    <a href="/en/topic/interview/database/">
        
        

        <div class="article-details">
            <h2 class="article-title">SRE Interview Questions | Database</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/en/topic/interview/k8s/">
        
        

        <div class="article-details">
            <h2 class="article-title">SRE Interview Questions Summary | K8s</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/en/topic/interview/docker/">
        
        

        <div class="article-details">
            <h2 class="article-title">SRE Interview Questions Summary | Docker</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/en/topic/interview/monitoring/">
        
        

        <div class="article-details">
            <h2 class="article-title">SRE Interview Questions Summary | Monitoring</h2>
        </div>
    </a>
</article>

            
                
<article class="">
    <a href="/en/topic/interview/sre/">
        
        

        <div class="article-details">
            <h2 class="article-title">SRE Interview Questions Summary | SRE</h2>
        </div>
    </a>
</article>

            
        </div>
    </div>
</aside>

     
    
        
    <script src='//unpkg.com/@waline/client@v2/dist/waline.js'></script>
<link href='//unpkg.com/@waline/client@v2/dist/waline.css' rel='stylesheet'/>
<div id="waline" class="waline-container"></div>
<style>
    .waline-container {
        background-color: var(--card-background);
        border-radius: var(--card-border-radius);
        box-shadow: var(--shadow-l1);
        padding: var(--card-padding);
        --waline-font-size: var(--article-font-size);
    }
    .waline-container .wl-count {
        color: var(--card-text-color-main);
    }
</style><script>
    
    Waline.init({"comment":true,"dark":"html[data-scheme=\"dark\"]","el":"#waline","emoji":["https://unpkg.com/@waline/emojis@1.4.0/weibo"],"lang":"zh-CN","locale":{"admin":"ç«™é•¿","placeholder":"æ¬¢è¿ç•™ä¸‹å®è´µçš„è¯„è®ºï¼è¯·ç•™ä¸‹æ­£ç¡®çš„é‚®ç®±ä»¥ä¾¿æœ‰å›å¤æ—¶è¿›è¡Œé‚®ç®±æé†’ï¼Œè¯·å‹¿å‘å¸ƒä»»ä½•ä¸æœ¬æ–‡ç« æ— å…³çš„å†…å®¹ã€‚","reactiontitle":"è¿™ç¯‡æ–‡ç« å¯¹ä½ æœ‰å¸®åŠ©å—ï¼Ÿ","sofa":"è¿˜æ²¡æœ‰äººè¯„è®ºå“¦ï¼å¿«æ¥æŠ¢æ²™å‘å§~"},"reaction":true,"requiredMeta":["name"],"search":false,"serverURL":"https://comment.hangops.top"});
</script>

    

    <footer class="site-footer">
    <section class="copyright">
        &copy; 
        
            
                
                    2025
                
            
        
        Hang
    </section>

    <section class="powerby">
        Built with <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> <br />
        Theme <b>Stack</b> designed by <a href="https://jimmycai.com" target="_blank" rel="noopener">Jimmy</a> ğŸš€
    </section>
    
    <section style="margin-top: 10px; font-size: 12px; opacity: 0.8;">
        
        
        
            
        
            
        
        
        
        <span>Published: <strong>58</strong> Posts</span>
        &nbsp;|&nbsp;
        <span>Total Views: <strong id="footer_total_views">...</strong> views</span>
    </section>

    <section style="margin-top: 10px; font-size: 12px; opacity: 0.8;">
        <span>Uptime: <strong id="footer_uptime">...</strong></span>
        &nbsp;|&nbsp;
        <span>Site Visits: <strong id="footer_total_site_visits">...</strong> views</span>
    </section>
</footer>

<script>
(function() {
    
    const isEn = window.location.pathname.startsWith('/en/');
    
    
    const timeUnits = isEn 
        ? { d: " days ", h: " hrs ", m: " min ", s: " sec" }
        : { d: " å¤© ", h: " å°æ—¶ ", m: " åˆ† ", s: " ç§’" };

    function formatUptime(seconds) {
        const days = Math.floor(seconds / 86400);
        seconds %= 86400;
        const hours = Math.floor(seconds / 3600);
        seconds %= 3600;
        const minutes = Math.floor(seconds / 60);
        const secs = seconds % 60;

        return `${days}${timeUnits.d}${hours}${timeUnits.h}${minutes}${timeUnits.m}${secs}${timeUnits.s}`;
    }

    const isLocal = ["localhost", "127.0.0.1"].includes(window.location.hostname);
    const INFO_URL = isLocal 
        ? "http://localhost:8080/api/site/info"
        : "https://hangops.top/api/site/info";

    const VISIT_URL = isLocal 
        ? "http://localhost:8080/api/site/visit"
        : "https://hangops.top/api/site/visit";

    
    fetch(VISIT_URL, { method: 'POST' }).catch(() => {});

    
    fetch(INFO_URL)
    .then(res => res.json())
    .then(data => {
        if(data.total_views !== undefined) {
            document.getElementById("footer_total_views").innerText = data.total_views.toLocaleString();
        }
        if(data.site_total_visits !== undefined) {
            document.getElementById("footer_total_site_visits").innerText = data.site_total_visits.toLocaleString();
        }
        if(data.uptime_seconds !== undefined) {
            let uptime = data.uptime_seconds;
            const uptimeEl = document.getElementById("footer_uptime");
            
            uptimeEl.innerText = formatUptime(uptime);
            setInterval(() => {
                uptime++;
                uptimeEl.innerText = formatUptime(uptime);
            }, 1000);
        }
    })
    .catch(console.error);
})();
</script>

<div id="back-to-top" class="back-to-top" aria-label="å›åˆ°é¡¶éƒ¨">
    <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
        <path d="M12 5l0 14"></path>
        <path d="M18 11l-6 -6"></path>
        <path d="M6 11l6 -6"></path>
    </svg>
</div>

<style>
    .back-to-top {
        position: fixed;
        bottom: 50px;
        right: 100px;
        width: 50px;
        height: 50px;
        background-color: var(--card-background);  
        color: var(--card-text-color-main);        
        box-shadow: var(--shadow-l1);              
        border-radius: 50%;                        
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        opacity: 0;                                
        visibility: hidden;
        transform: translateY(20px);               
        transition: all 0.3s ease;                 
        z-index: 999;
    }

    .back-to-top.show {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    .back-to-top:hover {
        background-color: var(--primary);          
        color: #fff;
        transform: translateY(-3px);               
        box-shadow: var(--shadow-l2);
    }

     
    @media (max-width: 768px) {
        .back-to-top {
            bottom: 20px;
            right: 20px;
            width: 40px;
            height: 40px;
        }
    }
</style>

<script>
(function() {
    const backToTopBtn = document.getElementById('back-to-top');
    
    
    window.addEventListener('scroll', () => {
        
        if (window.scrollY > 300) {
            backToTopBtn.classList.add('show');
        } else {
            backToTopBtn.classList.remove('show');
        }
    });

    
    backToTopBtn.addEventListener('click', () => {
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
    });
})();
</script>

    
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    
    <div class="pswp__bg"></div>

    
    <div class="pswp__scroll-wrap">

        
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                
                
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js"integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo="crossorigin="anonymous"
                defer
                >
            </script><script 
                src="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js"integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU="crossorigin="anonymous"
                defer
                >
            </script><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css"crossorigin="anonymous"
            ><link 
                rel="stylesheet" 
                href="https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css"crossorigin="anonymous"
            >

            </main>
        </div>
        <script 
                src="https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js"integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z&#43;KMkF24hUW8WePSA9HM="crossorigin="anonymous"
                
                >
            </script><script type="text/javascript" src="/ts/main.42920a384ae147944efd4ae25e3fe3ff8eef37d6fd8930a8f5cc347c76b13191.js" defer></script>
<script>
    (function () {
        const customFont = document.createElement('link');
        customFont.href = "https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";

        customFont.type = "text/css";
        customFont.rel = "stylesheet";

        document.head.appendChild(customFont);
    }());
</script>

    </body>
</html>
